(function(e){function t(t){for(var r,s,o=t[0],c=t[1],l=t[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},i=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"06f5":function(e,t,a){"use strict";a("3354")},"07d3":function(e,t,a){},"13f3":function(e,t,a){"use strict";a("1767")},1767:function(e,t,a){},1931:function(e,t,a){},2914:function(e,t,a){},"32c2":function(e,t,a){e.exports=a.p+"img/deja_logo.abcc51e5.png"},3354:function(e,t,a){},3959:function(e,t,a){"use strict";a("7c0b")},5167:function(e,t,a){},5337:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=a("2f62"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app"}},[a("v-app-bar",{staticClass:"blue-grey darken-4 align-center",attrs:{dark:"",dense:"",app:""}},[a("v-toolbar-title",[e._v("Cloverleaf Barbershop & Deja Du Salon Scheduling")]),a("v-spacer"),a("span",{staticClass:"text-sm-caption pr-2"},[e._v("Get in Touch: ")]),a("v-toolbar-items",{staticClass:"pr-5"},e._l(e.icons,(function(t,r){return a("v-btn",{key:r,attrs:{icon:"",href:t.url}},[a("v-icon",[e._v(e._s(t.icon))])],1)})),1),a("v-divider",{attrs:{vertical:""}}),a("span",{staticClass:"pr-5"}),a("v-toolbar-items",{staticClass:"pr-10"},[a("v-btn",{attrs:{icon:"",href:"/"}},[a("v-icon",[e._v("mdi-home")])],1),a("v-btn",{attrs:{icon:"",href:"/appointments"}},[a("v-icon",[e._v("mdi-calendar")])],1),e.activeUser.id?a("v-btn",{attrs:{icon:"",href:"/profile/"+e.activeUser.id}},[a("v-icon",[e._v("mdi-account")])],1):e._e(),e.isAdmin||e.isEmployee?a("v-btn",{attrs:{icon:"",href:"/users/search"}},[a("v-icon",[e._v("mdi-magnify")])],1):e._e()],1),e.authenticated&&e.currentUser?a("div",[a("small",[e._v(e._s(e.activeUser.emailAddress))]),a("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",n,!1),r),[a("v-icon",[e._v("mdi-account-circle")])],1)]}}],null,!1,990591291)},[a("v-list",[a("v-list-item",{attrs:{href:"/profile/"+e.activeUser.id}},[e._v("My Account")]),a("v-list-item",{on:{click:e.logout}},[e._v("Logout")])],1)],1)],1):a("div",[a("small",[e._v("Login")]),a("v-btn",{attrs:{icon:"",href:"/login"}},[a("v-icon",[e._v("mdi-account-circle")])],1)],1)],1),a("v-main",[a("router-view")],1),a("v-footer",{ref:"footerContainer",staticClass:"blue-grey darken-4",attrs:{dark:"",fixed:"",padless:"",app:""}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("span",{staticClass:"pb-1 pt-1 white--text text-center"},[e._v(" "+e._s((new Date).getFullYear())+" â€” "),a("strong",[e._v("Cloverleaf Barbershop & Deja Du Salon")])])])],1)],1)},s=[],o=(a("caad"),a("2532"),a("96cf"),a("1da1")),c=a("5530"),l=a("d722"),u={name:"app",computed:Object(c["a"])({},Object(n["b"])(["user","clUser","primaryRole"])),created:function(){this.isAuthenticated()},data:function(){return{activeUser:{},authenticated:!1,currentUser:null,activeClAccount:!1,idToken:null,claims:[],groups:[],loading:!1,isAdmin:!1,isEmployee:!1,isCustomer:!1,isGuest:!0,icons:[{text:"Facebook",icon:"mdi-facebook",url:"https://www.facebook.com/cloverleafbarberandsalon"},{text:"Instagram",icon:"mdi-instagram",url:"https://www.instagram.com/cloverleafbarbershop/"},{text:"Call Us!",icon:"mdi-phone",url:"tel:423-877-9913"}]}},methods:{isAuthenticated:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.authState.isAuthenticated;case 2:e.authenticated=t.sent;case 3:case"end":return t.stop()}}),t)})))()},logout:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$auth.signOut();case 2:return t.next=4,e.isAuthenticated();case 4:case"end":return t.stop()}}),t)})))()},getCLAccount:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.primaryRole=t.getPrimaryGroup(e.groups),a.prev=1,a.next=4,l["a"].execute("get","/user/email?email=".concat(e.email));case 4:if(r=a.sent,null===r){a.next=30;break}if(!r.primaryRole){a.next=27;break}if(console.log(r.primaryRole!==e.primaryRole),r.primaryRole===e.primaryRole){a.next=17;break}return r.primaryRole=e.primaryRole,n="/user/".concat(r.id,"/update"),a.next=13,l["a"].execute("PUT",n,r);case 13:i=a.sent,i.primaryRole===r.primaryRole&&t.$store.commit("updatePrimaryRole",i.primaryRole),a.next=19;break;case 17:console.log(r.primaryRole),t.$store.commit("updatePrimaryRole",r.primaryRole);case 19:t.isAdmin="Admin"===r.primaryRole,t.isEmployee="Employee"===r.primaryRole,t.isCustomer="Customer"===r.primaryRole,console.log(r),t.activeUser=r,t.$store.commit("updateCLUser",r),a.next=28;break;case 27:t.$router.push({path:"/registration"});case 28:a.next=31;break;case 30:t.$router.push({path:"/"});case 31:a.next=36;break;case 33:a.prev=33,a.t0=a["catch"](1),alert(a.t0);case 36:case"end":return a.stop()}}),a,null,[[1,33]])})))()},getPrimaryGroup:function(e){return e.includes("Admin")?"Admin":e.includes("Employee")?"Employee":e.includes("Customer")?"Customer":"Guest"}},watch:{$route:"isAuthenticated",authenticated:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((a||!t)&&t===a){e.next=4;break}return e.next=3,this.$auth.getUser();case 3:this.currentUser=e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),currentUser:function(e){void 0!==e&&(this.$store.commit("updateUser",e),e.primaryRole=this.getPrimaryGroup(e.groups),this.getCLAccount(e))}}},d=u,p=a("2877"),m=a("6544"),v=a.n(m),h=a("7496"),f=a("40dc"),b=a("8336"),g=a("62ad"),y=a("ce7e"),x=a("553a"),k=a("132d"),w=a("8860"),D=a("da13"),A=a("f6c4"),S=a("e449"),_=a("2fa4"),U=a("2a7f"),C=Object(p["a"])(d,i,s,!1,null,null,null),R=C.exports;v()(C,{VApp:h["a"],VAppBar:f["a"],VBtn:b["a"],VCol:g["a"],VDivider:y["a"],VFooter:x["a"],VIcon:k["a"],VList:w["a"],VListItem:D["a"],VMain:A["a"],VMenu:S["a"],VSpacer:_["a"],VToolbarItems:U["a"],VToolbarTitle:U["b"]});var P=a("8c4f"),O=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},$=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("div",{attrs:{id:"osw-container"}})])}],j=(a("b64b"),a("4d6a")),V=a.n(j),E=(a("65ab"),{baseUrl:"https://dev-3583503.okta.com",el:"#osw-container",clientId:"0oar2yxosCQDhkZkz5d5",logo:"https://ok12static.oktacdn.com/fs/bco/1/fs0ytcorkJrG2iFUh5d5",redirectUri:window.location.origin+"/login/callback",logoText:"Cloverleaf Barbershop & Deja Du Login",tokenManager:{autoRenew:!0,storage:sessionStorage},idps:[{type:"GOOGLE",id:"0oanoihl9Q4gL6zRB5d5"},{type:"FACEBOOK",id:"0oannsdgFRmpgOHP95d5"}],idpDisplay:"PRIMARY",authParams:{pkce:!0,issuer:"https://dev-3583503.okta.com/oauth2/default/",display:"popup",scopes:["openid","profile","email"]},registration:{parseSchema:function(e,t){t(e)},preSubmit:function(e,t){t(e)},postSubmit:function(e,t){console.log(e),t(e)}},features:{registration:!0,idpDiscovery:!0,selfServiceUnlock:!0,smsRecovery:!0,autoPush:!0}}),T={name:"Login",data:function(){return{widget:""}},methods:{widgetSuccessCallback:function(e){var t="";e[0]&&(t=Object.keys(e[0])[0],this.widget.tokenManager.add(t,e[1])),"SUCCESS"===e.status&&e.session.setCookieAndRedirect()},widgetErrorCallback:function(e){console.log(e)}},mounted:function(){this.widget=new V.a(E),this.widget.showSignInAndRedirect()},destroyed:function(){this.widget.remove()}},I=T,N=Object(p["a"])(I,O,$,!1,null,null,null),L=N.exports,M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{ref:"homeContainer",staticClass:"cont ma-0 pa-0",attrs:{fluid:""}},[r("v-row",{staticClass:"row1",attrs:{"align-content":"center",justify:"center","no-gutters":""}},[r("v-col",{attrs:{cols:"4"}},[r("v-img",{attrs:{alt:"Cloverleaf Logo",contain:"",src:a("67b2")}})],1)],1),r("v-row",{staticClass:"row2",attrs:{"align-content":"center",justify:"center","no-gutters":""}},[r("v-col",{attrs:{cols:"4"}},[r("v-img",{attrs:{alt:"Deja Du Logo",contain:"",src:a("32c2")}})],1)],1)],1)},F=[],B={name:"Home",computed:{},created:function(){},data:function(){return{}},methods:{},mounted:function(){},watch:{}},q=B,z=(a("65f3"),a("a523")),W=a("adda"),G=a("0fd9"),H=Object(p["a"])(q,M,F,!1,null,"1fa594cc",null),J=H.exports;v()(H,{VCol:g["a"],VContainer:z["a"],VImg:W["a"],VRow:G["a"]});var Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.elevatedRole?a("UserList"):e._e()},K=[],Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"mx-0 my-0 py-0",attrs:{fluid:""}},[a("v-data-table",{attrs:{headers:e.headers,items:e.users,search:e.search,"fixed-header":"","sort-by":"id","footer-props":{itemsPerPageOptions:[9,15,-1]},"no-results-text":"No matches found... Try to change your search term.","loading-text":"Loading... Please wait",height:e.$vuetify.breakpoint.xlOnly?"77vh":"68vh"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Manage Users")]),a("v-spacer"),a("v-spacer"),a("v-spacer"),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Edit User")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"First Name"},model:{value:e.editedUser.firstName,callback:function(t){e.$set(e.editedUser,"firstName",t)},expression:"editedUser.firstName"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Last Name"},model:{value:e.editedUser.lastName,callback:function(t){e.$set(e.editedUser,"lastName",t)},expression:"editedUser.lastName"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Account Username",disabled:"",hint:"Username is locked, and must be edited with login provider"},model:{value:e.editedUser.emailAddress,callback:function(t){e.$set(e.editedUser,"emailAddress",t)},expression:"editedUser.emailAddress"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Phone Number",hint:"Numbers only, no spaces or dashes"},model:{value:e.editedUser.phoneNumber,callback:function(t){e.$set(e.editedUser,"phoneNumber",t)},expression:"editedUser.phoneNumber"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Profile Photo URL"},model:{value:e.editedUser.profilePhotoUrl,callback:function(t){e.$set(e.editedUser,"profilePhotoUrl",t)},expression:"editedUser.profilePhotoUrl"}})],1),"Customer"==e.editedUser.primaryRole?a("v-col",{attrs:{cols:"12"}},["Customer"===e.editedUser.primaryRole?a("v-text-field",{attrs:{label:"Preferred Weeks Between Appointments",hint:"Enter number of weeks for recurring appointments"},model:{value:e.editedUser.repeatInterval,callback:function(t){e.$set(e.editedUser,"repeatInterval",t)},expression:"editedUser.repeatInterval"}}):e._e()],1):e._e(),e.userIsAdmin?a("v-col",{attrs:{cols:"5"}},[a("p",[e._v("Primary Role: "+e._s(e.editedUser.primaryRole))])]):e._e(),e.userIsAdmin&&e.editedUser.subscriberId?a("v-col",{attrs:{cols:"7"}},[a("a",{attrs:{href:"https://dev-3583503-admin.okta.com/admin/user/profile/view/"+e.editedUser.subscriberId+"#tab-groups",target:"_blank"},domProps:{innerHTML:e._s("Edit User Role (will update on next user login)")}})]):e._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"blue-grey darken-4"},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"blue-grey darken-4"},on:{click:e.save}},[e._v("Save")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"475px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",{attrs:{align:"center"}},[e.canDelete?a("v-card-title",{staticClass:"subtitle-2 text-center"},[e._v("Are you sure you want to delete this item?")]):a("v-card-title",{staticClass:"subtitle-2 text-center",attrs:{align:"center"}},[e._v(" You cannot delete your own account, please seen an administrator ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",disabled:!e.canDelete},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.profilePhoto",fn:function(t){var r=t.item;return[r.profilePhotoUrl?a("v-avatar",{staticClass:"my-2",attrs:{size:"50"}},[a("img",{attrs:{src:""+r.profilePhotoUrl,alt:r.firstName+"'s profile photo"}})]):a("v-avatar",{staticClass:"my-2",attrs:{size:"50",color:r.avatar.color}},[a("span",{staticClass:"white--text title",domProps:{textContent:e._s(r.avatar.initials)}})])]}},{key:"item.parentAccount",fn:function(t){var r=t.item;return[-1!==r.parentId?a("a",{attrs:{href:"/profile/"+r.parentId}},[e._v("View Account")]):e._e()]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.viewProfile(r)}}},[e._v("mdi-eye")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(r)}}},[e._v("mdi-pencil")]),e.isAdmin?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(r)}}},[e._v("mdi-delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}])})],1)},Z=[],X=(a("99af"),a("c975"),a("a434"),a("b0c0"),a("e25e"),a("ac1f"),a("1276"),a("b85c")),ee={name:"UserList",data:function(){return{isAdmin:"Admin"==this.$store.state.primaryRole,dialog:!1,dialogDelete:!1,headers:[{text:"Profile Photo",value:"profilePhoto"},{text:"First Name",value:"firstName"},{text:"Last Name",value:"lastName"},{text:"User Role",value:"primaryRole"},{text:"Phone Number",value:"phoneNumber"},{text:"Email Address",value:"emailAddress"},{text:"Profile Photo",value:"profilePhotoUrl"},{text:"Weeks Between Appts",value:"repeatInterval"},{text:"Linked Account",value:"hasLinked"},{text:"Parent Account",value:"parentAccount"},{text:"Actions",value:"actions",sortable:!1}],users:[],loading:!1,canDelete:!0,editedIndex:-1,editUserTypeOptions:["Customer","Employee","Admin","Guest"],editUserTypeDisabled:this.isAdmin,editedUser:{name:"",primaryRole:"",userRoles:[],phoneNumber:"",emailAddress:"",repeatInterval:0,profilePhotoUrl:""},defaultItem:{name:"",primaryRole:"",phoneNumber:"",emailAddress:"",repeatInterval:0,profilePhotoUrl:"",userRoles:[]},search:""}},computed:{userIsAdmin:function(){return!!this.$store.state&&"Admin"===this.$store.state.primaryRole}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=[],t.prev=2,t.next=5,l["a"].execute("get","/users");case 5:if(r=t.sent,r){n=Object(X["a"])(r);try{for(n.s();!(i=n.n()).done;)s=i.value,s.id&&s.active&&(s.firstName=s.name.split(" ")[0],s.lastName=s.name.split(" ")[1],s.hasLinked=-1!==s.parentId?"Yes":"No",s.parentAccount=-1!==s.parentId?s.parentId:"",s.profilePhotoUrl||(s.avatar={color:e.getRandomColor(),initials:e.getInitials(s.firstName,s.lastName)}),a.push(s))}catch(o){n.e(o)}finally{n.f()}e.users=a,e.loading=!1}t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},canDeleteUser:function(e){this.$store&&(this.canDelete=this.$store.state.user.id!==e)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedUser=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedUser=Object.assign({},e.defaultItem),e.editedIndex=-1}))},deleteItem:function(e){this.canDeleteUser(e.id),this.dialogDelete=!0;var t=this.users.indexOf(e);this.editedIndex=t},deleteItemConfirm:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.users[e.editedIndex].id,t.prev=1,t.next=4,l["a"].execute("delete","/user/".concat(a,"/delete"));case 4:r=t.sent,r&&(console.log(r),e.users.splice(e.editedIndex,1),console.log(r)),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:e.editedIndex=-1,e.closeDelete();case 13:case"end":return t.stop()}}),t,null,[[1,8]])})))()},editItem:function(e){this.editedIndex=this.users.indexOf(e),this.editedUser=Object.assign({},e),this.dialog=!0},getInitials:function(e,t){return e[0].toUpperCase()+t[0].toUpperCase()},getRandomColor:function(){var e=["red","purple","deep-purple","indigo","light-blue","teal","green","amber","deep-orange"],t=Math.floor(4*Math.random())+1,a=Math.floor(Math.random()*e.length);return"".concat(e[a]," darken-").concat(t)},save:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedIndex>-1)){t.next=11;break}return a=e.editedUser,r={name:a.firstName+" "+a.lastName,emailAddress:a.emailAddress,phoneNumber:a.phoneNumber,profilePhotoUrl:a.profilePhotoUrl,linkedAccounts:a.linkedAccounts,parentId:a.parentId,repeatInterval:parseInt(a.repeatInterval),primaryRole:a.primaryRole,subscriberId:a.subscriberId},n="/user/".concat(a.id,"/update"),t.next=6,e.updateUser(n,r);case 6:return i=t.sent,i&&console.log(i),t.next=10,e.initialize();case 10:e.close();case 11:case"end":return t.stop()}}),t)})))()},splitName:function(e){return e.split(" ")[0]},updateUser:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(t),r={},a.prev=2,a.next=5,l["a"].execute("POST",e,t);case 5:if(r=a.sent,!r){a.next=9;break}return console.log(r),a.abrupt("return",r);case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a["catch"](2),console.log(a.t0),a.abrupt("return",null);case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))()},viewProfile:function(e){this.$router.push("/profile/".concat(e.id))}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}}},te=ee,ae=a("8212"),re=a("b0af"),ne=a("99d9"),ie=a("8fea"),se=a("169a"),oe=a("8654"),ce=a("71d9"),le=Object(p["a"])(te,Q,Z,!1,null,"554aadff",null),ue=le.exports;v()(le,{VAvatar:ae["a"],VBtn:b["a"],VCard:re["a"],VCardActions:ne["a"],VCardText:ne["c"],VCardTitle:ne["d"],VCol:g["a"],VContainer:z["a"],VDataTable:ie["a"],VDialog:se["a"],VIcon:k["a"],VRow:G["a"],VSpacer:_["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:U["b"]});var de={name:"Users",components:{UserList:ue},computed:{currentUser:function(){return this.$store.state.user},elevatedRole:function(){return"Admin"===this.$store.state.primaryRole||"Employee"===this.$store.state.primaryRole}}},pe=de,me=Object(p["a"])(pe,Y,K,!1,null,"e6317ae2",null),ve=me.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"content-container",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"3",xl:"2"}},[a("v-card",{staticClass:"align-content-stretch profile-card mb-10 pb-5",attrs:{elevation:"6",height:e.$vuetify.breakpoint.xlOnly?"90vh":"87vh",tile:""}},[a("div",{staticClass:"text-center py-4"},[a("v-avatar",{class:e.profile===e.selectedProfile?"elevation-16":"elevation-0",attrs:{size:"150"}},[a("img",{attrs:{src:""+e.profile.profilePhotoUrl}})])],1),a("v-divider"),a("v-list",{attrs:{justify:"center"}},[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title",attrs:{align:"center"}},[e._v(" "+e._s(e.profile.name)+" ")]),a("v-list-item-subtitle",{attrs:{align:"center"}},[a("v-btn",{staticClass:"ma-2",attrs:{text:"",color:"blue-grey darken-2"},on:{click:function(t){return t.stopPropagation(),e.editProfile(e.profile)}}},[e._v(" Edit Profile "),a("v-icon",{staticClass:"pa-3",attrs:{right:"",color:"blue-grey darken-2"}},[e._v("mdi-pencil")])],1)],1)],1)],1)],1),a("v-divider"),a("v-list",{staticClass:"scroll pb-16",attrs:{height:e.$vuetify.breakpoint.xlOnly?"77vh":"68vh"}},[a("v-list-item",[a("v-list-item-icon",[a("v-icon",[e._v("mdi-phone")])],1),a("v-list-item-title",[a("a",{attrs:{href:"tel:"+e.profile.phoneNumber}},[e._v(e._s(e.profile.phoneNumber))])])],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[e._v("mdi-email")])],1),a("v-list-item-title",[a("a",{attrs:{href:"mailto:"+e.profile.emailAddress}},[e._v(e._s(e.profile.emailAddress))])])],1),a("v-list-group",{attrs:{value:!0,"no-action":"","prepend-icon":"mdi-account-supervisor-circle"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-title",[e._v("Linked Accounts")])]},proxy:!0}])},[e.linkedAccounts.length?a("v-list-group",{attrs:{value:!0,"no-action":"","sub-group":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Accounts")])],1)]},proxy:!0}],null,!1,301843354)},e._l(e.linkedAccounts,(function(t,r){return a("v-list-item",{key:r,attrs:{link:"","input-value":e.isSelectedLinkedAcct(t.name)},on:{click:function(a){return e.selectProfile(t)}}},[a("v-list-item-title",{domProps:{textContent:e._s(t.name)}}),a("v-scroll-y-transition",[e.isSelectedLinkedAcct(t.name)?a("v-list-item-icon",[a("v-icon",{attrs:{color:"blue-grey darken-4"}},[e._v("mdi-account-supervisor")])],1):a("v-list-item-icon",[a("v-icon",{attrs:{color:"blue-grey darken-4"}},[e._v("mdi-account-supervisor-outline")])],1)],1)],1)})),1):e._e(),a("v-list-group",{staticClass:"pb-16",attrs:{value:!0,"no-action":"","sub-group":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Actions")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{link:""},on:{click:e.addUser}},[a("v-list-item-title",[e._v("Add")]),a("v-list-item-action",[a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"blue-grey darken-4"}},[e._v("mdi-plus")])],1)],1)],1),a("v-list-item",{attrs:{link:""},on:{click:function(t){return e.editProfile(e.selectedProfile)}}},[a("v-list-item-title",[e._v("Update")]),a("v-list-item-action",[a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"blue-grey darken-4"}},[e._v("mdi-update")])],1)],1)],1),a("v-list-item",{attrs:{link:""},on:{click:function(t){return e.deleteUser(e.selectedProfile)}}},[a("v-list-item-title",[e._v("Delete")]),a("v-list-item-action",[a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"blue-grey darken-4"}},[e._v("mdi-delete")])],1)],1)],1)],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"9",xl:"10"}},[a("v-container",{staticClass:"mx-0 px-0 py-0",attrs:{fluid:""}},[a("v-card",{attrs:{elevation:"6",height:e.$vuetify.breakpoint.xlOnly?"90vh":"87vh"}},["Admin"===e.userPanel?a("admin-panel",{attrs:{"active-panel":e.activeUserSubPanel},on:{updateActiveUserSubPanel:e.updateActiveUserSubPanel}}):e._e(),"Employee"===e.userPanel?a("employee-panel",{attrs:{"active-panel":e.activeUserSubPanel},on:{updateActiveUserSubPanel:e.updateActiveUserSubPanel}}):e._e(),"Customer"===e.userPanel?a("customer-panel",{attrs:{"active-panel":e.activeUserSubPanel},on:{updateActiveUserSubPanel:e.updateActiveUserSubPanel}}):e._e(),"CreateLinked"===e.userPanel?a("register-linked",{attrs:{"parent-profile":e.profile},on:{closeDialog:e.closeDialog}}):e._e()],1)],1)],1)],1),a("v-row",{attrs:{align:"center"}},[a("keep-alive",[a("edit-user-form",{attrs:{dialog:e.editFormActive,"edited-user":e.selectedProfile,"dialog-delete":e.showDeleteDialog,"user-is-admin":e.userIsAdmin},on:{"update:dialog":function(t){e.editFormActive=t},closeEditForm:e.closeEditForm}})],1)],1)],1)},fe=[],be=(a("6eba"),a("0d03"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{ref:"adminContainer",staticClass:"admin-display py-0 my-0",attrs:{fluid:""}},[a("v-container",{staticClass:"py-0",staticStyle:{height:"95%"},attrs:{fluid:""}},["users"===e.activeDisplay?a("user-list"):e._e(),"services"===e.activeDisplay?a("service-list"):e._e(),"appointments"===e.activeDisplay?a("profile-appointments-view",{attrs:{profile:e.currentUser}}):e._e(),"appointmentGenerator"===e.activeDisplay?a("appointment-generator"):e._e(),"reports"===e.activeDisplay?a("reports"):e._e()],1),a("v-bottom-navigation",{attrs:{value:e.activeDisplay,color:"primary",absolute:"",flat:"",height:"60",grow:""}},[a("v-btn",{attrs:{value:"users"},on:{click:function(t){return e.setActiveDisplay("users")}}},[a("span",[e._v("Accounts")]),a("v-icon",[e._v("mdi-account-box-multiple")])],1),a("v-btn",{attrs:{value:"services"},on:{click:function(t){return e.setActiveDisplay("services")}}},[a("span",[e._v("Services")]),a("v-icon",[e._v("mdi-content-cut")])],1),a("v-btn",{attrs:{value:"appointments"},on:{click:function(t){return e.setActiveDisplay("appointments")}}},[a("span",[e._v("Appointments")]),a("v-icon",[e._v("mdi-calendar-month")])],1),a("v-btn",{attrs:{value:"reports"},on:{click:function(t){return e.setActiveDisplay("appointmentGenerator")}}},[a("span",[e._v("Add Dummy Appointments")]),a("v-icon",[e._v("mdi-plus")])],1)],1)],1)}),ge=[],ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{ref:"serviceView",staticClass:"mt-0 pt-0",attrs:{fluid:""}},[a("v-toolbar",{attrs:{fluid:"",flat:""}},[a("v-toolbar-title",[e._v("Services")]),a("v-spacer"),a("v-toolbar-items",["Admin"===e.currentUser.primaryRole?a("v-item",[a("v-btn",{attrs:{text:"",small:""},on:{click:function(t){return e.editService()}}},[e._v(" Add New Service "),a("v-icon",{attrs:{right:""}},[e._v("mdi-plus")])],1)],1):e._e()],1)],1),e.services?a("div",{staticClass:"pb-lg-0 pb-sm-10",attrs:{id:"services-container"}},[a("v-list",{staticClass:"overflow-y-auto pb-lg-11 pb-md-16",staticStyle:{"min-height":"50vh","max-height":"78vh"},attrs:{"three-line":""}},[e._l(e.services,(function(t,r){return[a("v-list-item",{key:t.id},[a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:e._s(t.name)}}),a("v-list-item-subtitle",{domProps:{innerHTML:e._s("Description: "+t.description)}}),a("v-list-item-subtitle",{domProps:{innerHTML:e._s("Price: "+t.displayPrice)}}),a("v-list-item-subtitle",{domProps:{innerHTML:e._s("Appointment Length: "+t.duration+" mins")}})],1),a("v-spacer"),"Admin"===e.currentUser.primaryRole?a("v-btn",{on:{click:function(a){return e.editService(t)}}},[a("span",[e._v("Edit")]),a("v-icon",{attrs:{right:""}},[e._v("mdi-pencil")])],1):e._e()],1),r<e.services.length-1?a("v-divider",{key:"list-item-"+r}):e._e()]}))],2)],1):e._e(),a("keep-alive",[a("service-edit-form",{attrs:{dialog:e.showEditForm,service:e.serviceToUpdate},on:{refresh:e.refresh,"update:dialog":function(t){e.showEditForm=t},closeDialog:e.closeDialog}})],1)],1)},xe=[],ke=(a("4160"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.dialog,persistent:"","max-width":"600px"},on:{input:function(t){return e.$emit("update:dialog",!1)}}},[a("v-card",[a("v-card-title",[e.service?a("span",{staticClass:"headline"},[e._v("Edit Service")]):a("span",{staticClass:"headline"},[e._v("Create New Service")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Service Name*",required:""},model:{value:e.selectedService.name,callback:function(t){e.$set(e.selectedService,"name",t)},expression:"selectedService.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rows:"2","auto-grow":"",label:"Description*",clearable:"",required:""},model:{value:e.selectedService.description,callback:function(t){e.$set(e.selectedService,"description",t)},expression:"selectedService.description"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Fixed Price"},model:{value:e.selectedService.fixedPrice,callback:function(t){e.$set(e.selectedService,"fixedPrice",t)},expression:"selectedService.fixedPrice"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Min Price"},model:{value:e.selectedService.minPrice,callback:function(t){e.$set(e.selectedService,"minPrice",t)},expression:"selectedService.minPrice"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Max Price"},model:{value:e.selectedService.maxPrice,callback:function(t){e.$set(e.selectedService,"maxPrice",t)},expression:"selectedService.maxPrice"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:[5,10,20,30,45,60,90,120,150,180,240],label:"Duration*",required:""},model:{value:e.selectedService.duration,callback:function(t){e.$set(e.selectedService,"duration",t)},expression:"selectedService.duration"}})],1)],1)],1),a("small",[e._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.deleteService}},[e._v(" delete ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cancelEdit}},[e._v(" Close ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveService}},[e._v(" Save ")])],1),a("v-snackbar",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[e._v(" Saving data... ")])],1)],1)}),we=[],De=(a("a4d3"),a("e01a"),{props:{service:{type:Object},dialog:Boolean},created:function(){this.service.id&&(this.selectedService=this.service)},name:"ServiceEditForm",data:function(){return{selectedService:{},loading:!1,refresh:!1}},methods:{saveService:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=null,e.refresh=!1,i=e.selectedService,e.service?(r="/service/".concat(e.service.id),n="PUT"):(r="/services/create",n="POST"),t.prev=4,e.loading=!0,t.next=8,l["a"].execute(n,r,i);case 8:s=t.sent,s&&(a=s),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),console.log(t.t0);case 15:a&&(e.refresh=!0);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})))()},deleteService:function(){},cancelEdit:function(){this.$emit("closeDialog")},setSelectedService:function(e){this.selectedService=e}},mounted:function(){},watch:{selectedService:function(){this.refresh=!1},service:function(e){var t={};e?t=e:(t.name="",t.description="",t.duration="",t.fixedPrice=null,t.minPrice=null,t.maxPrice=null),this.setSelectedService(t)},refresh:function(e){!0===e&&this.$emit("refresh",e)}}}),Ae=De,Se=a("b974"),_e=a("2db4"),Ue=a("a844"),Ce=Object(p["a"])(Ae,ke,we,!1,null,"4b9fcdf9",null),Re=Ce.exports;v()(Ce,{VBtn:b["a"],VCard:re["a"],VCardActions:ne["a"],VCardText:ne["c"],VCardTitle:ne["d"],VCol:g["a"],VContainer:z["a"],VDialog:se["a"],VRow:G["a"],VSelect:Se["a"],VSnackbar:_e["a"],VSpacer:_["a"],VTextField:oe["a"],VTextarea:Ue["a"]});var Pe=a("2ef0"),Oe={name:"ServiceList.vue",components:{"service-edit-form":Re},computed:{currentUser:function(){return this.$store.state.user}},data:function(){return{services:[],serviceToUpdate:{},showEditForm:!1,savedService:{},refresh:!1,update:null}},methods:{getServices:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,t.prev=1,t.next=4,l["a"].execute("get","/services");case 4:r=t.sent,r&&(Pe.orderBy(r,["id"],["asc"]),r.forEach((function(e){e.minPrice&&e.maxPrice?e.displayPrice="Ranges from $".concat(e.minPrice," - $").concat(e.maxPrice):e.minPrice?e.displayPrice="Starts at $".concat(e.minPrice):e.displayPrice="$".concat(e.fixedPrice),a.services.push(e)}))),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),e.$log.debug(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},editService:function(e){this.serviceToUpdate=e,this.showEditForm=!0},closeDialog:function(){this.showEditForm=!1}},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getServices();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{savedService:function(e){e&&-1==this.services.indexOf(e)&&this.services.push(e)},refresh:function(){this.getServices()},update:function(){this.getServices()}}},$e=Oe,je=(a("e9c4"),a("d903")),Ve=a("5d23"),Ee=Object(p["a"])($e,ye,xe,!1,null,"5703d10c",null),Te=Ee.exports;v()(Ee,{VBtn:b["a"],VContainer:z["a"],VDivider:y["a"],VIcon:k["a"],VItem:je["a"],VList:w["a"],VListItem:D["a"],VListItemContent:Ve["a"],VListItemSubtitle:Ve["b"],VListItemTitle:Ve["c"],VSpacer:_["a"],VToolbar:ce["a"],VToolbarItems:U["a"],VToolbarTitle:U["b"]});var Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mt-0 pt-0",attrs:{height:"85vh",width:"100vw",elevation:"6"}},[a("h1",[e._v(" make some reports")])])},Ne=[],Le={name:"Reports"},Me=Le,Fe=Object(p["a"])(Me,Ie,Ne,!1,null,"7e99bf0c",null),Be=Fe.exports;v()(Fe,{VCard:re["a"]});var qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{fluid:"",tile:"",flat:""}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("v-toolbar-title",{attrs:{align:"left"}},[e._v(e._s(e.displayTitle))])],1)],1)],1)],1),a("v-card",{staticClass:"no-overflow mx-0 mt-0 pt-0",attrs:{height:"81vh",flat:"",width:"100vw"}},[a("v-card-text",{staticClass:"scroll pa-0"},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{dense:"","no-gutters":""}},e._l(e.appointmentsDisplay,(function(t,r){return a("v-col",{key:"daily-appointments-list-"+r,attrs:{cols:"12"}},[a("v-card",{staticClass:"ma-0 pa-0",attrs:{flat:""}},[a("v-card-subtitle",[e._v(e._s(t.displayLabel))])],1),a("v-card-text",{staticClass:"ma-0 pa-0"},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{dense:""}},e._l(t.appointments,(function(t,r){return a("v-col",{key:"daily-appointment-info-"+r,attrs:{cols:"12"}},[a("v-card",{staticClass:"pt-0",attrs:{width:"100vw",flat:"",outlined:""}},[a("v-list-item",[a("v-avatar",{staticClass:"mt-2",attrs:{size:"60",tile:""}},[a("img",{attrs:{src:t.employee.profilePhotoUrl}})]),a("v-list-item-content",{staticClass:"pl-2"},[a("v-list-item-subtitle",[e._v(" "+e._s(t.employee.name)+" ")])],1)],1),a("v-card-text",{staticClass:"py-1 px-2"},[a("v-container",{staticClass:"ma-0 pa-0",attrs:{fluid:""}},[a("v-row",{attrs:{dense:""}},e._l(t.appointments,(function(t){return a("v-col",{key:"appointment-details-"+t.id,staticClass:"mx-0 px-1 text--white"},[a("v-alert",{staticClass:"pa-0 ma-0",attrs:{dense:"",text:"",color:"info",prominent:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"py-1",attrs:{cols:"5"}},[a("v-list",{attrs:{"two-line":""}},[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.startDisplay)+" - "+e._s(t.endDisplay))]),a("v-list-item-subtitle",[e._v(" "+e._s(t.services[0].name)+" ")])],1)],1)],1),a("v-spacer")],1),e.isCustomer?e._e():a("v-col",{attrs:{cols:"7",align:"right"}},[t.requested||t.confirmed?a("v-btn",{staticClass:"text---white mr-3 pr-3",attrs:{"x-small":"",color:"blue-grey darken-4",dark:""},on:{click:function(a){return e.updateAppointmentStatus(t,"CANCELED")}}},[e._v("Cancel")]):e._e(),t.requested?a("v-btn",{staticClass:"text---white mr-3 pr-3",attrs:{"x-small":"",color:"blue-grey darken-4",dark:""},on:{click:function(a){return e.updateAppointmentStatus(t,"CONFIRMED")}}},[e._v("Confirm")]):e._e(),t.confirmed?a("v-btn",{staticClass:"text---white mr-3 pr-3",attrs:{"x-small":"",color:"blue-grey darken-4",dark:""},on:{click:function(a){return e.completeAppointment(t)}}},[e._v("Complete")]):e._e(),t.canceled||t.rejected?a("v-btn",{staticClass:"text---white mr-3 pr-3",attrs:{"x-small":"",color:"blue-grey darken-4",dark:""},on:{click:function(a){return e.deleteAppointment(t)}}},[e._v("Remove")]):e._e()],1)],1)],1)],1)})),1)],1)],1)],1)],1)})),1)],1)],1)],1)})),1)],1)],1)],1),a("keep-alive",[a("complete-appointment-form",{attrs:{activeUser:e.profile,dialog:e.dialog,appointment:e.appointmentToUpdate},on:{"update:dialog":function(t){e.dialog=t},closeDialog:e.closeDialog}})],1),a("v-snackbar",{attrs:{top:"",app:"",absolute:"",width:"600px",transition:"slide-y-transition",text:"",color:e.updateStatus.color,timeout:"3000"},model:{value:e.showUpdateStatus,callback:function(t){e.showUpdateStatus=t},expression:"showUpdateStatus"}},[e._v(e._s(e.updateStatus.message)+" ")])],1)},ze=[],We=(a("accc"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.dialog,persistent:"","max-width":"600px"},on:{input:function(t){return e.$emit("update:dialog",!1)}}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.service.name)+" Closeout")])]),a("v-card-subtitle",{staticClass:"my-0 py-0"},[a("strong",[e._v(e._s(e.customer.name))])]),a("v-card-text",{staticClass:"my-0 py-0"},[a("v-container",{staticClass:"px-0 mx-0"},[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12"}},[e._v(" "+e._s(e.service.description)+" ")]),a("v-col",{attrs:{cols:"9"}},[a("span",[a("strong",[e._v(e._s(e.startDisplay)+" - "+e._s(e.endDisplay))])])]),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Total Price*","prepend-icon":"mdi-currency-usd",required:""},model:{value:e.totalPrice,callback:function(t){e.totalPrice=t},expression:"totalPrice"}})],1)],1)],1),a("small",[e._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.close()}}},[e._v(" Close ")]),e.updateSuccessful?e._e():a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.saveAppointment()}}},[e._v(" Save ")])],1)],1),a("v-snackbar",{attrs:{top:"",app:"",absolute:"",width:"600px",transition:"slide-y-transition",text:"",color:e.updateStatus.color,timeout:"3000"},model:{value:e.showUpdateStatus,callback:function(t){e.showUpdateStatus=t},expression:"showUpdateStatus"}},[e._v(e._s(e.updateStatus.message)+" ")])],1)}),Ge=[],He={name:"CompleteAppointmentForm",props:{appointment:{type:Object},dialog:{type:Boolean}},mounted:function(){},data:function(){return{totalPrice:0,showUpdateStatus:!1,updateStatus:{color:"",message:""},updateSuccessful:!1,service:{},customer:{},employee:{},updatedAppointment:{},startDisplay:"",endDisplay:""}},methods:{initialize:function(){this.employee=this.appointment.employee,this.customer=this.appointment.customer,this.service=this.appointment.services[0],this.startDisplay=this.appointment.startDisplay,this.endDisplay=this.appointment.endDisplay,this.service.fixedPrice?this.totalPrice=this.service.fixedPrice:this.totalPrice=0},saveAppointment:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(!e.totalPrice>0)){t.next=6;break}e.updateStatus.color="error",e.updateStatus.message="Appointment Closeout requires a Total Price to be entered.",e.showUpdateStatus=!0,t.next=25;break;case 6:return a=e.appointment,a.totalPrice=e.totalPrice,a.status="COMPLETED",r="POST",t.prev=10,n="/appointments/".concat(a.id),i=a,t.next=15,l["a"].execute(r,n,i);case 15:s=t.sent,s&&s.completed&&s.totalPrice==e.totalPrice&&(e.updateStatus.color="success",e.updateStatus.message="Appointment Closeout Complete. Remember to reschedule another visit!",e.showUpdateStatus=!0,e.updateSuccessful=!0,e.updatedAppointment=s),t.next=25;break;case 19:t.prev=19,t.t0=t["catch"](10),e.updateStatus.color="error",e.updateStatus.message="Appointment Closeout Error. Please report this to an administrator.",e.showUpdateStatus=!0,e.updatedAppointment=e.appointment;case 25:case"end":return t.stop()}}),t,null,[[10,19]])})))()},close:function(){this.$emit("closeDialog",this.updatedAppointment)}},watch:{appointment:function(e){e&&this.initialize()}}},Je=He,Ye=Object(p["a"])(Je,We,Ge,!1,null,"0ab58461",null),Ke=Ye.exports;v()(Ye,{VBtn:b["a"],VCard:re["a"],VCardActions:ne["a"],VCardSubtitle:ne["b"],VCardText:ne["c"],VCardTitle:ne["d"],VCol:g["a"],VContainer:z["a"],VDialog:se["a"],VRow:G["a"],VSnackbar:_e["a"],VSpacer:_["a"],VTextField:oe["a"]});var Qe=a("1ba4"),Ze=a("1212"),Xe=a("7677"),et=a("b166"),tt=a("856d"),at=a("c137"),rt=a("f7f1"),nt=a("4e31"),it=a("e3ee"),st=a("2ef0"),ot={name:"ProfileAppointmentsView",components:{CompleteAppointmentForm:Ke},props:{profile:{type:Object}},computed:{},created:function(){},mounted:function(){this.profile&&this.initialize(this.profile)},data:function(){return{dialog:!1,currentUser:this.profile,appointmentToUpdate:{},appointmentsByEmployee:null,appointmentsDisplay:null,displayTitle:null,daysToShow:5,isAdmin:null,isEmployee:null,isCustomer:null,mainAppointmentList:null,employees:null,primaryRole:this.profile.primaryRole,startDate:null,endDate:null,datesShown:null,updateStatus:{color:"",message:""},showUpdateStatus:!1,employeeFilter:null,showDatePicker:!1,datePickerDate:null,initializeDate:new Date,viewRange:{}}},methods:{initialize:function(e){this.isAdmin="Admin"===e.primaryRole,this.isEmployee="Employee"===e.primaryRole,this.isCustomer="Customer"===this.profile.primaryRole,this.currentUser=e,this.datesShown=this.getDates(),this.startDate=this.datesShown[0],this.endDate=this.datesShown[this.daysToShow-1],this.isCustomer&&(this.displayTitle="Appointments I'm Tracking",this.getCustomerAppointments(e),this.getEmployees()),this.isEmployee&&(this.displayTitle="My Appointments (Next 5 days)",this.employeeFilter=this.currentUser.id,this.getEmployeeAppointments(),this.getEmployees()),this.isAdmin&&(this.displayTitle="Employee Appointments (5 day Outlook)",this.getEmployeeAppointments(),this.getEmployees())},closeDialog:function(){this.initialize(this.profile),this.dialog=!1},completeAppointment:function(e){this.appointmentToUpdate=e,this.dialog=!0},deleteAppointment:function(e,t,a,r){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var s,o,c,u,d,p;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s="delete",o="/appointments/".concat(e.id,"/delete"),c="Appointment was successfully deleted",u="Appointment with id: ".concat(e.id," NOT FOUND"),d="Appointment with id: ".concat(e.id," was NOT deleted successfully"),i.prev=5,i.next=8,l["a"].execute(s,o);case 8:p=i.sent,p===c?(n.updateStatus.color="green",n.updateStatus.message="".concat(e.employee.name,"'s appointment with ").concat(e.customer.name," has been deleted!"),n.showUpdateStatus=!0,n.appointmentsDisplay[t][a].splice(r,1)):p!==u&&p!==d||(n.updateStatus.color="red",n.updateStatus.message="".concat(e.employee.name,"'s appointment with ").concat(e.customer.name," was NOT removed due to an error!"),n.showUpdateStatus=!0),i.next=15;break;case 12:i.prev=12,i.t0=i["catch"](5),console.log(i.t0);case 15:return i.next=17,n.getEmployeeAppointments();case 17:case"end":return i.stop()}}),i,null,[[5,12]])})))()},getEmployees:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/Employee/info/detailed",t.next=3,e.getData(a);case 3:if(r=t.sent,n=[],r.length>0)if(e.isAdmin)n=r;else if(e.isEmployee){i=Object(X["a"])(r);try{for(i.s();!(s=i.n()).done;)o=s.value,o.id===e.currentUser.id&&n.push(o)}catch(c){i.e(c)}finally{i.f()}}e.employees=n;case 7:case"end":return t.stop()}}),t)})))()},getCustomerAppointments:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,i,s,o,c,u,d,p,m,v,h,f,b;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r="get",n="/appointments/customer/".concat(e.id,"/all"),i=t.startDate,s=t.endDate,a.prev=4,a.next=7,l["a"].execute(r,n);case 7:if(o=a.sent,o){c=[],u=Object(X["a"])(o);try{for(u.s();!(d=u.n()).done;)p=d.value,m=new Date(p.start),v=(new Date).getTimezoneOffset(),h=6e4*v,f=new Date(p.start).getTime(),b=new Date(p.end).getTime(),(Object(Qe["a"])(m,i)||Object(Ze["a"])(m,i))&&(Object(Xe["a"])(m,t.endDate)||Object(Qe["a"])(m,s))&&(p.startDisplay=Object(et["a"])(f-h,"hh:mma"),p.endDisplay=Object(et["a"])(b-h,"hh:mma"),(t.isAdmin||t.isEmployee&&t.employeeFilter===p.employee.id)&&c.push(p))}catch(g){u.e(g)}finally{u.f()}t.mainAppointmentList=c}a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](4),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[4,11]])})))()},getEmployeeAppointments:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,s,o,c,u,d,p,m,v,h,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="get",r="/appointments/Employee/all",n=e.startDate,i=e.endDate,t.prev=4,t.next=7,l["a"].execute(a,r);case 7:if(s=t.sent,s){o=[],c=Object(X["a"])(s);try{for(c.s();!(u=c.n()).done;)d=u.value,p=new Date(d.start),m=(new Date).getTimezoneOffset(),v=6e4*m,h=new Date(d.start).getTime(),f=new Date(d.end).getTime(),(Object(Qe["a"])(p,n)||Object(Ze["a"])(p,n))&&(Object(Xe["a"])(p,i)||Object(Qe["a"])(p,i))&&(d.startDisplay=Object(et["a"])(h-v,"hh:mma"),d.endDisplay=Object(et["a"])(f-v,"hh:mma"),(e.isAdmin||e.isEmployee&&e.employeeFilter===d.employee.id)&&o.push(d))}catch(b){c.e(b)}finally{c.f()}e.mainAppointmentList=o}t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()},getCurrentUser:function(){return this.profile},getDates:function(){var e=[],t=this.initializeDate;while(Object(tt["a"])(t)||Object(at["a"])(t))t=Object(rt["a"])(t,1);e.push(t);for(var a=0;e.length<this.daysToShow;a++){var r=Object(rt["a"])(t,a+1);Object(tt["a"])(r)||Object(at["a"])(r)||e.push(r)}return e},getEndDate:function(){return Object(rt["a"])(this.startDate,this.daysToShow)},updateAppointmentStatus:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,i,s,o,c,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n="post",i="/appointments/".concat(e.id,"/update/status"),s=a.getCurrentUser(),!s){r.next=21;break}return o=s.id,c=JSON.stringify({userId:o,appointmentStatus:t.toUpperCase()}),r.prev=6,r.next=9,l["a"].execute(n,i,c);case 9:if(u=r.sent,!u){r.next=16;break}if(u.id!==e.id){r.next=16;break}return e.status=u.status,e=u,r.next=16,a.getEmployeeAppointments();case 16:r.next=21;break;case 18:r.prev=18,r.t0=r["catch"](6),console.log(r.t0);case 21:case"end":return r.stop()}}),r,null,[[6,18]])})))()},sortByDay:function(){var e,t=[],a=Object(X["a"])(this.datesShown);try{for(a.s();!(e=a.n()).done;){var r=e.value,n="",i=[];n=Object(nt["a"])(r)?"Today":Object(et["a"])(Object(it["a"])(new Date(r).toISOString()),"EEE MMMM do");var s,o=Object(X["a"])(this.mainAppointmentList);try{for(o.s();!(s=o.n()).done;){var c=s.value;Object(Qe["a"])(Object(it["a"])(c.start),r)&&i.push(c)}}catch(u){o.e(u)}finally{o.f()}var l=this.sortByEmployee(i);t.push({displayLabel:n,appointments:l})}}catch(u){a.e(u)}finally{a.f()}this.appointmentsDisplay=t},sortByEmployee:function(e){var t,a=[],r=Object(X["a"])(this.employees);try{for(r.s();!(t=r.n()).done;){var n,i=t.value,s=[],o=i.id,c=Object(X["a"])(e);try{for(c.s();!(n=c.n()).done;){var l=n.value;l.employee.id===o&&s.push(l)}}catch(u){c.e(u)}finally{c.f()}a.push({employee:i,appointments:s})}}catch(u){r.e(u)}finally{r.f()}return a},getData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="get",e.prev=1,e.next=4,l["a"].execute(a,t);case 4:if(r=e.sent,!r){e.next=8;break}return n=st.orderBy(r,["id"],["asc"]),e.abrupt("return",n);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));function t(t){return e.apply(this,arguments)}return t}()},watch:{daysToShow:function(e,t){e!==t&&(this.datesShown=this.getDates())},mainAppointmentList:function(e){e&&this.sortByDay()}}},ct=ot,lt=(a("13f3"),a("0798")),ut=Object(p["a"])(ct,qe,ze,!1,null,"02d71dfc",null),dt=ut.exports;v()(ut,{VAlert:lt["a"],VAvatar:ae["a"],VBtn:b["a"],VCard:re["a"],VCardSubtitle:ne["b"],VCardText:ne["c"],VCol:g["a"],VContainer:z["a"],VList:w["a"],VListItem:D["a"],VListItemContent:Ve["a"],VListItemSubtitle:Ve["b"],VListItemTitle:Ve["c"],VRow:G["a"],VSnackbar:_e["a"],VSpacer:_["a"],VToolbar:ce["a"],VToolbarTitle:U["b"]});var pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{fluid:"",tile:"",flat:""}},[a("v-toolbar-title",[e._v("Random Appointment Generator")]),a("v-spacer"),a("v-toolbar-items",[a("v-select",{staticClass:"px-2",attrs:{label:"Select Start Month",items:e.months,"item-text":"name","item-value":"value","return-object":"","single-line":""},model:{value:e.startMonth,callback:function(t){e.startMonth=t},expression:"startMonth"}}),a("v-select",{attrs:{label:"Select End Month",items:e.months,"item-text":"name","item-value":"value","return-object":"","single-line":""},model:{value:e.endMonth,callback:function(t){e.endMonth=t},expression:"endMonth"}})],1)],1),a("v-card",{staticClass:"mx-0 px-0",attrs:{height:"80vh",width:"100vw",flat:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},e._l(5,(function(t){return a("v-col",{key:"col-"+t},[a("v-card",{attrs:{width:"15.3vw"}},[a("v-card-text",{staticClass:"text-center"},[a("v-btn",{attrs:{dark:"",large:""},on:{click:function(a){return e.generateAppointments(5*t)}}},[e._v(e._s(5*t)+" Appointments")])],1)],1)],1)})),1)],1),a("v-snackbar",{attrs:{top:"",app:"",absolute:"",width:"600px",transition:"slide-y-transition",text:"",color:e.updateStatus.color,timeout:"3000"},model:{value:e.showUpdateStatus,callback:function(t){e.showUpdateStatus=t},expression:"showUpdateStatus"}},[e._v(e._s(e.updateStatus.message)+" ")])],1)},mt=[],vt=a("3ae2"),ht=a("2ef0"),ft={name:"AppointmentGenerator",computed:{},created:function(){},mounted:function(){this.months=this.getMonths()},data:function(){return{services:this.getServices(),employees:this.getEmployees(),customers:this.getCustomers(),servicesReady:!1,employeesReady:!1,customersReady:!1,allReady:!1,months:[],startMonth:null,endMonth:null,showUpdateStatus:!1,updateStatus:{color:"success",message:"Appointments Added!"}}},methods:{isAllReady:function(){return this.allReady},getMonths:function(){var e=[{name:"January",value:0},{name:"February",value:1},{name:"March",value:2},{name:"April",value:3},{name:"May",value:4},{name:"June",value:5},{name:"July",value:6},{name:"August",value:7},{name:"September",value:8},{name:"October",value:9},{name:"November",value:10},{name:"December",value:11}];return e},generateAppointments:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,i,s,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.isAllReady()){a.next=20;break}console.log("Generating ".concat(e," appointments")),r=[];case 3:if(!(r.length<e)){a.next=18;break}if(n=t.createRandomAppointment(),i=t.employees[t.getRandom(0,t.employees.length-1)].id,s=t.customers[t.getRandom(0,t.customers.length-1)].id,o={id:t.services[t.getRandom(0,t.services.length-1)].id},n.customer.id=s,n.employee.id=i,n.services=[o],Object(tt["a"])(n.start)||Object(at["a"])(n.start)){a.next=16;break}return a.next=14,t.saveAppointment(n);case 14:c=a.sent,c.id?c.id&&r.push(c):t.stepper(n);case 16:a.next=3;break;case 18:t.updateStatus.message="".concat(e," Appointments Added from ").concat(t.startMonth.name," to ").concat(t.endMonth.name," 2021"),t.showUpdateStatus=!0;case 20:case"end":return a.stop()}}),a)})))()},getServices:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/services",t.next=3,e.getData(a);case 3:r=t.sent,r.length>0&&(e.services=r);case 5:case"end":return t.stop()}}),t)})))()},getEmployees:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/Employee/info/detailed",t.next=3,e.getData(a);case 3:r=t.sent,r.length>0&&(e.employees=r);case 5:case"end":return t.stop()}}),t)})))()},getCustomers:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/Customer/info/detailed",t.next=3,e.getData(a);case 3:r=t.sent,r.length>0&&(e.customers=r);case 5:case"end":return t.stop()}}),t)})))()},saveAppointment:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="POST",r="/appointments/create",n=e,t.abrupt("return",l["a"].execute(a,r,n));case 4:case"end":return t.stop()}}),t)})))()},getData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="get",e.prev=1,e.next=4,l["a"].execute(a,t);case 4:if(r=e.sent,!r){e.next=8;break}return n=ht.orderBy(r,["id"],["asc"]),e.abrupt("return",n);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));function t(t){return e.apply(this,arguments)}return t}(),getEmptyAppointment:function(){return{start:null,services:[{id:null}],employee:{id:null},customer:{id:null}}},createRandomAppointment:function(){var e=this.getEmptyAppointment(),t=this.getRandom(2021,2021),a=this.getRandom(this.startMonth.value,this.endMonth.value),r=this.getRandom(1,Object(vt["a"])(new Date(t,a))),n=this.getRandom(9,16),i=this.getRandom(0,59),s=new Date(t,a,r,n,i),o=s.getTime();return e.start=o,e},getRandom:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}},watch:{services:function(e){e&&e.length&&(this.servicesReady=!0,this.employeesReady&&this.customersReady&&(this.allReady=!0))},employees:function(e){e&&e.length&&(this.employeesReady=!0,this.servicesReady&&this.customersReady&&(this.allReady=!0))},customers:function(e){e&&e.length&&(this.customersReady=!0,this.employeesReady&&this.servicesReady&&(this.allReady=!0))}}},bt=ft,gt=Object(p["a"])(bt,pt,mt,!1,null,"d7d58d6c",null),yt=gt.exports;v()(gt,{VBtn:b["a"],VCard:re["a"],VCardText:ne["c"],VCol:g["a"],VRow:G["a"],VSelect:Se["a"],VSnackbar:_e["a"],VSpacer:_["a"],VToolbar:ce["a"],VToolbarItems:U["a"],VToolbarTitle:U["b"]});var xt={name:"AdminPanel",components:{ProfileAppointmentsView:dt,ServiceList:Te,UserList:ue,AppointmentGenerator:yt,Reports:Be},props:["activePanel"],computed:{currentUser:function(){return this.$store.state.clUser}},created:function(){this.setActiveDisplay(this.activePanel)},data:function(){return{manageUsers:!1,addService:!1,viewService:!1,activeDisplay:null}},methods:{setActiveDisplay:function(e){this.activeDisplay=e||"users"}},mounted:function(){},watch:{activeDisplay:function(e,t){e!==t&&this.$emit("updateActiveUserSubPanel",e)},activePanel:function(e){e&&this.setActiveDisplay(e)}}},kt=xt,wt=(a("7e6d"),a("b81c")),Dt=Object(p["a"])(kt,be,ge,!1,null,"6d76787d",null),At=Dt.exports;v()(Dt,{VBottomNavigation:wt["a"],VBtn:b["a"],VContainer:z["a"],VIcon:k["a"]});var St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("form",[a("div",{staticClass:"text-center"},[0==e.name.length?a("v-avatar",{staticClass:"my-5",attrs:{size:"75",color:"blue-grey darken-4"}},[a("v-icon",{attrs:{dark:"","x-large":""}},[e._v(" mdi-account-circle ")])],1):a("v-avatar",{staticClass:"my-5",attrs:{size:"75",color:"blue-grey darken-4"}},[a("span",{staticClass:"white--text headline"},[e._v(e._s(e.initials))])])],1),a("v-text-field",{attrs:{"error-messages":e.nameErrors,counter:40,label:"Name",required:""},on:{input:function(t){return e.$v.name.$touch()},blur:function(t){return e.$v.name.$touch()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"E-mail"},on:{input:function(t){return e.$v.emailAddress.$touch()},blur:function(t){return e.$v.emailAddress.$touch()}},model:{value:e.emailAddress,callback:function(t){e.emailAddress=t},expression:"emailAddress"}}),a("v-text-field",{attrs:{"error-messages":e.phoneErrors,label:"Phone Number",hint:"Enter numbers only",counter:18,required:""},on:{input:function(t){return e.$v.phoneNumber.$touch()},blur:function(t){return e.$v.phoneNumber.$touch()}},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}}),a("v-text-field",{attrs:{label:"Preferred Weeks Between Appointments",hint:"Enter number of weeks for recurring appointments"},model:{value:e.repeatInterval,callback:function(t){e.repeatInterval=t},expression:"repeatInterval"}}),a("v-checkbox",{attrs:{"error-messages":e.checkboxErrors,label:"Do you agree to create an account with Cloverleaf Barbershop & Deja Du Salon?",required:""},on:{change:function(t){return e.$v.checkbox.$touch()},blur:function(t){return e.$v.checkbox.$touch()}},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}}),a("v-btn",{staticClass:"mr-4",on:{click:e.submit}},[e._v(" submit ")]),a("v-btn",{staticClass:"mr-4",on:{click:e.clear}},[e._v(" clear ")]),a("v-btn",{on:{click:e.cancel}},[e._v(" cancel ")])],1)])},_t=[],Ut=(a("5319"),a("1dce")),Ct=a("b5ae"),Rt={mixins:[Ut["validationMixin"]],validations:{name:{required:Ct["required"],maxLength:Object(Ct["maxLength"])(40)},emailAddress:{email:Ct["email"]},phoneNumber:{required:Ct["required"],maxLength:Object(Ct["maxLength"])(18)},checkbox:{checked:function(e){return e}}},props:["parentProfile"],name:"CreateLinkedAccount",computed:{checkboxErrors:function(){var e=[];return this.$v.checkbox.$dirty?(!this.$v.checkbox.checked&&e.push("You must agree to continue!"),e):e},emailErrors:function(){var e=[];return this.$v.emailAddress.$dirty?(!this.$v.emailAddress.email&&e.push("E-mail address must be valid"),e):e},nameErrors:function(){var e=[];return this.$v.name.$dirty?(!this.$v.name.maxLength&&e.push("Name must be less than 40 characters"),!this.$v.name.required&&e.push("Name is required"),e):e},phoneErrors:function(){var e=[];return this.$v.phoneNumber.$dirty?(!this.$v.phoneNumber.maxLength&&e.push("Phone number must be less than 18 characters"),!this.$v.phoneNumber.required&&e.push("Phone number is required!"),e):e}},created:function(){},mounted:function(){this.initialize(this.parentProfile)},data:function(){return{checkbox:!1,name:"",emailAddress:this.parentProfile.emailAddress,phoneNumber:this.parentProfile.phoneNumber,repeatInterval:null,initials:"",parentId:this.parentProfile.id,parent:this.parentProfile}},methods:{splitName:function(e){var t=e.split(" ");if(t){if(t.length){var a=t[0][0];if(t.length>1){var r=t[1][0];r&&(this.initials=a+r)}}}else this.initials=""},submit:function(){this.$v.$touch(),this.$v.$invalid?this.submitStatus="ERROR":this.createUser()},createUser:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={name:e.name,emailAddress:e.emailAddress,phoneNumber:e.phoneNumber.replace(/\D+/g,""),profilePhotoUrl:null,parentId:e.parentId,primaryRole:"Customer",repeatInterval:e.repeatInterval},t.prev=1,t.next=4,l["a"].execute("POST","/user/create",a).then((function(t){if(t){var a=t.id,r="/user/".concat(a,"/update/parent?parentId=").concat(e.parentProfile.id);l["a"].execute("POST",r).then((function(t){t&&(e.$forceUpdate(),e.$emit("closeDialog",t))}))}}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},clear:function(){this.name="",this.checkBox=!1,this.$forceUpdate()},initialize:function(e){this.parent=e,this.parenId=e.id},cancel:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("closeDialog",!1),e.clear();case 2:case"end":return t.stop()}}),t)})))()}},watch:{name:function(e){this.splitName(e)},parentProfile:function(e){e.id&&(this.parentId=e.id)}}},Pt=Rt,Ot=a("ac7c"),$t=Object(p["a"])(Pt,St,_t,!1,null,"3d8dd29a",null),jt=$t.exports;v()($t,{VAvatar:ae["a"],VBtn:b["a"],VCheckbox:Ot["a"],VContainer:z["a"],VIcon:k["a"],VTextField:oe["a"]});var Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{value:e.dialog,persistent:"","max-width":"600px"},on:{input:function(t){return e.$emit("update:dialog",!1)}}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Edit User")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"First Name"},model:{value:e.editedUser.firstName,callback:function(t){e.$set(e.editedUser,"firstName",t)},expression:"editedUser.firstName"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Last Name"},model:{value:e.editedUser.lastName,callback:function(t){e.$set(e.editedUser,"lastName",t)},expression:"editedUser.lastName"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Account Username",disabled:"",hint:"Username is locked, and must be updated with login provider"},model:{value:e.editedUser.emailAddress,callback:function(t){e.$set(e.editedUser,"emailAddress",t)},expression:"editedUser.emailAddress"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Phone Number",hint:"Numbers only, no spaces or dashes"},model:{value:e.editedUser.phoneNumber,callback:function(t){e.$set(e.editedUser,"phoneNumber",t)},expression:"editedUser.phoneNumber"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Profile Photo URL"},model:{value:e.editedUser.profilePhotoUrl,callback:function(t){e.$set(e.editedUser,"profilePhotoUrl",t)},expression:"editedUser.profilePhotoUrl"}})],1),"Customer"==e.editedUser.primaryRole?a("v-col",{attrs:{cols:"12"}},["Customer"===e.editedUser.primaryRole?a("v-text-field",{attrs:{label:"Preferred Weeks Between Appointments",hint:"Enter number of weeks for recurring appointments"},model:{value:e.editedUser.repeatInterval,callback:function(t){e.$set(e.editedUser,"repeatInterval",t)},expression:"editedUser.repeatInterval"}}):e._e()],1):e._e(),e.userIsAdmin?a("v-col",{attrs:{cols:"5"}},[a("p",[e._v("Primary Role: "+e._s(e.editedUser.primaryRole))])]):e._e(),e.userIsAdmin&&e.editedUser.subscriberId?a("v-col",{attrs:{cols:"7"}},[a("a",{attrs:{href:"https://dev-3583503-admin.okta.com/admin/user/profile/view/"+e.editedUser.subscriberId+"#tab-groups",target:"_blank"},domProps:{innerHTML:e._s("Edit User Role (will update on next user login)")}})]):e._e()],1),a("v-alert",{attrs:{value:e.showSuccessAlert,dense:"",prominent:"",text:"",border:"left",type:"success",dismissible:"",transition:"expand-transition"}},[e._v(" Update for "),a("strong",[e._v(e._s(e.editedUser.name))]),e._v(" was "),a("strong",[e._v("successful!")])]),a("v-alert",{attrs:{value:e.showFailureAlert,dense:"",prominent:"",text:"",border:"left",type:"error",dismissible:"",transition:"expand-transition"}},[e._v(" Unable to update "),a("strong",[e._v(e._s(e.editedUser.name))]),e._v(" please "),a("strong",[e._v("Contact Us")]),e._v(" for help! ")])],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"red darken-4"},on:{click:e.close}},[e._v("Cancel")]),e.showCloseButton?a("v-btn",{attrs:{text:"",color:"green darken-4"},on:{click:e.close}},[e._v("Close")]):a("v-btn",{attrs:{text:"",color:"blue-grey darken-4"},on:{click:e.save}},[e._v("Save")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"475px"},model:{value:e.showDialogDelete,callback:function(t){e.showDialogDelete=t},expression:"showDialogDelete"}},[a("v-card",{attrs:{align:"center"}},[e.canDelete?a("v-card-title",{staticClass:"subtitle-2 text-center"},[e._v("Are you sure you want to permanently delete "+e._s(e.editedUser.name)+"?")]):a("v-card-title",{staticClass:"subtitle-2 text-center",attrs:{align:"center"}},[e._v(" You cannot delete your own account, please seen an administrator ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",disabled:!e.canDelete},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)},Et=[],Tt={name:"EditUserForm",props:{dialog:{type:Boolean},dialogDelete:{type:Boolean},editedUser:{type:Object},userIsAdmin:{type:Boolean}},computed:Object(c["a"])({},Object(n["b"])(["user","clUser","primaryRole"])),data:function(){return{canDelete:!1,showSuccessAlert:!1,showFailureAlert:!1,showCloseButton:!1,showDialogDelete:!1}},methods:{canDeleteUser:function(){this.canDelete=this.clUser.id!==this.editedUser.id},close:function(){this.$emit("closeEditForm",this.previousPanel)},closeDelete:function(){this.showDialogDelete=!1},deleteItem:function(e){this.canDeleteUser(e.id),this.showDialogeDelete=!0},save:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.editedUser,r={name:a.firstName+" "+a.lastName,emailAddress:a.emailAddress,phoneNumber:a.phoneNumber,profilePhotoUrl:a.profilePhotoUrl,linkedAccounts:a.linkedAccounts,parentId:a.parentId,repeatInterval:parseInt(a.repeatInterval),primaryRole:a.primaryRole,subscriberId:a.subscriberId},n="/user/".concat(a.id,"/update"),t.prev=3,t.next=6,e.updateUser(n,r);case 6:i=t.sent,i&&(e.showSuccessAlert=!0,e.showCloseButton=!0),t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log(t.t0),e.showFailureAlert=!0,e.showCloseButton=!0;case 15:case"end":return t.stop()}}),t,null,[[3,10]])})))()},deleteItemConfirm:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.editedUser.id,t.prev=1,t.next=4,l["a"].execute("delete","/user/".concat(a,"/delete"));case 4:r=t.sent,r.deleted&&(e.showSuccessAlert=!0,e.showCloseButton=!0),t.next=13;break;case 8:t.prev=8,t.t0=t["catch"](1),e.showFailureAlert=!0,e.showCloseButton=!0,console.log(t.t0);case 13:e.closeDelete();case 14:case"end":return t.stop()}}),t,null,[[1,8]])})))()},updateUser:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={},a.prev=1,a.next=4,l["a"].execute("POST",e,t);case 4:if(r=a.sent,!r){a.next=7;break}return a.abrupt("return",r);case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a["catch"](1),console.log(a.t0),a.abrupt("return",a.t0);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))()}},mounted:function(){this.dialogDelete&&this.deleteItem(this.editedUser)},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){this.showDialogDelete=e||this.closeDelete()},editedUser:function(){this.canDeleteUser()}}},It=Tt,Nt=Object(p["a"])(It,Vt,Et,!1,null,"62dbc1bc",null),Lt=Nt.exports;v()(Nt,{VAlert:lt["a"],VBtn:b["a"],VCard:re["a"],VCardActions:ne["a"],VCardText:ne["c"],VCardTitle:ne["d"],VCol:g["a"],VContainer:z["a"],VDialog:se["a"],VRow:G["a"],VSpacer:_["a"],VTextField:oe["a"]});var Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{ref:"adminContainer",staticClass:"admin-display py-0 my-0",attrs:{fluid:""}},[a("v-container",{staticClass:"py-0",staticStyle:{height:"95%"},attrs:{fluid:""}},["users"===e.activeDisplay?a("user-list"):e._e(),"appointments"===e.activeDisplay?a("profile-appointments-view",{attrs:{profile:e.currentUser}}):e._e()],1),a("v-bottom-navigation",{attrs:{value:e.activeDisplay,color:"primary",absolute:"",flat:"",height:"60",grow:""}},[a("v-btn",{attrs:{value:"users"},on:{click:function(t){return e.setActiveDisplay("users")}}},[a("span",[e._v("Accounts")]),a("v-icon",[e._v("mdi-account-box-multiple")])],1),a("v-btn",{attrs:{value:"appointments"},on:{click:function(t){return e.setActiveDisplay("appointments")}}},[a("span",[e._v("Appointments")]),a("v-icon",[e._v("mdi-calendar-month")])],1)],1)],1)},Ft=[],Bt={name:"EmployeePanel",components:{ProfileAppointmentsView:dt,UserList:ue},props:["activePanel"],computed:{currentUser:function(){return this.$store.state.clUser}},created:function(){this.setActiveDisplay(this.activePanel)},data:function(){return{manageUsers:!1,addService:!1,viewService:!1,activeDisplay:null}},methods:{setActiveDisplay:function(e){this.activeDisplay=e||"users"}},mounted:function(){},watch:{activeDisplay:function(e,t){e!==t&&this.$emit("updateActiveUserSubPanel",e)},activePanel:function(e){e&&this.setActiveDisplay(e)}}},qt=Bt,zt=(a("fd48"),Object(p["a"])(qt,Mt,Ft,!1,null,"2e646d1f",null)),Wt=zt.exports;v()(zt,{VBottomNavigation:wt["a"],VBtn:b["a"],VContainer:z["a"],VIcon:k["a"]});var Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"main-display py-0 mt-0 mb-16 mx-0",attrs:{fluid:""}},[a("appointments",{staticClass:"mt-0 pt-0 mb-16 pb-16",attrs:{wrapper:!0}}),a("v-bottom-navigation",{attrs:{value:e.activeDisplay,color:"primary",absolute:"",flat:"",height:"60",grow:""}},[a("v-btn",{attrs:{value:"appointments"},on:{click:function(t){return e.setActiveDisplay("appointments")}}},[a("span",[e._v("Appointments")]),a("v-icon",[e._v("mdi-calendar-month")])],1)],1)],1)},Ht=[],Jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"mx-0 px-0",attrs:{fluid:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"3"}},[a("v-toolbar-title",{attrs:{align:"left"}},[e._v("Appointments")])],1),a("v-col",{staticClass:"text-center",attrs:{cols:"6",align:"center"}},[a("v-btn",{attrs:{text:"",icon:""},on:{click:e.previousWeek}},[a("v-icon",[e._v("mdi-chevron-left")])],1),a("span",{staticClass:"text-subtitle-2"},[e._v(" "+e._s(e.displayMonth)+" ")]),a("v-btn",{attrs:{text:"",icon:""},on:{click:e.nextWeek}},[a("v-icon",[e._v("mdi-chevron-right")])],1)],1),a("v-col",{staticClass:"text-right",attrs:{cols:"3",align:"center"}},[e.$vuetify.breakpoint.xlOnly?a("v-spacer"):e._e(),a("v-toolbar",{staticClass:"py-0 my-0",attrs:{flat:""}},[e.hasElevated?a("v-spacer"):e._e(),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({staticClass:"shrink pt-2 pr-3 text-right",attrs:{value:e.computedDateFormatted,label:"Date Finder","prepend-inner-icon":"mdi-calendar",readonly:"",clearable:""},on:{"click:clear":e.onClearDateClicked}},"v-text-field",n,!1),r))]}}]),model:{value:e.showDatePicker,callback:function(t){e.showDatePicker=t},expression:"showDatePicker"}},[a("v-date-picker",{attrs:{scrollable:"","no-title":""},on:{input:function(t){e.showDatePicker=!1}},model:{value:e.datePickerDate,callback:function(t){e.datePickerDate=t},expression:"datePickerDate"}})],1),a("v-select",{staticClass:"shrink pt-2 pr-3 text-right",attrs:{clearable:"",items:e.employeeSelector,"prepend-inner-icon":"mdi-account",label:"Select Employee",dense:""},model:{value:e.selectedEmployee,callback:function(t){e.selectedEmployee=t},expression:"selectedEmployee"}}),a("v-btn",{staticClass:"my-0 py-0 text-right",attrs:{"x-small":e.$vuetify.breakpoint.lgAndDown,small:e.$vuetify.breakpoint.xlOnly,text:""},on:{click:function(t){return e.addAppointment()}}},[e._v(" New Appt "),a("v-icon",{attrs:{right:""}},[e._v("mdi-plus")])],1)],1)],1)],1)],1),a("div",{staticClass:"mx-0 px-0",attrs:{id:"content-container"}},[a("v-row",{directives:[{name:"touch",rawName:"v-touch",value:{left:function(){return e.nextWeek()},right:function(){return e.previousWeek()}},expression:"{\n              left: () => nextWeek(),\n              right: () => previousWeek()}"}],staticClass:"mx-0 px-0"},[a("Calendar",{attrs:{refresh:e.refresh,isWrapped:e.isWrapped,range:e.viewRange,employee:e.employeeFilter,services:e.services,activeUser:e.activeUser},on:{"update:refresh":function(t){e.refresh=t},"update-selected":e.updateSelectedDate}})],1)],1),a("keep-alive",[a("appointment-edit-form",{attrs:{services:e.services,activeUser:e.activeUser,dialog:e.showEditForm,appointment:e.appointmentToAdd,selectedEmployee:e.employeeFilter,date:e.selectedDate},on:{"update:dialog":function(t){e.showEditForm=t},closeDialog:e.closeDialog,refresh:e.refreshCalendar}})],1)],1)},Yt=[],Kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"content-container",attrs:{fluid:""}},[a("v-row",{staticClass:"max-vertical d-lg-inline-flex flex-lg-nowrap",attrs:{"no-gutters":""}},e._l(5,(function(t){return a("v-col",{key:"timeline-col-"+t,staticClass:"mx-0"},[a("timeline",{attrs:{services:e.services,isWrapped:e.wrapped,activeUser:e.activeUser,date:e.displayDateRange[t-1],agenda:e.displayedEvents[t-1],position:t-1},on:{refresh:e.refreshView,"update-selected":e.updateSelectedDate}})],1)})),1)],1)},Qt=[],Zt=(a("4de4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto pb-1",attrs:{elevation:0,tile:"",width:e.wrapped?"16.25vw":"19.75vw",height:"85vh"},on:{click:function(t){return e.toggleActive()}}},[a("v-card-title",{staticClass:"justify-center"},[e._v(" "+e._s(e.dayOfWeek)+" ")]),a("v-card-subtitle",{staticClass:"text-center"},[e._v(" "+e._s(e.dayOfMonth)+" ")]),a("v-card",{staticClass:"mx-0 pb-0",staticStyle:{"overflow-x":"hidden !important","overflow-y":"auto",height:"93%"},attrs:{flat:"",width:"20vw"}},[0===e.events.length&&e.loading?a("v-card-text",{staticClass:"text-center text-subtitle-2 pt-10"},[e._v(" Loading Agenda... ")]):e.events.length&&!e.loading?a("v-card-text",{staticClass:"text-truncate"},[a("v-timeline",{staticClass:"mr-xl-1 mr-sm-1 pb-10",attrs:{dense:"",height:"90%"}},e._l(e.events,(function(t,r){return a("div",{key:"agenda-event-"+e.position+"-"+r,staticClass:"scroll"},[a("v-timeline-item",{staticClass:"mb-0",attrs:{small:"",right:""},scopedSlots:e._u([{key:"icon",fn:function(){return[t.employeePhoto?a("v-avatar",[a("img",{attrs:{src:t.employeePhoto}})]):e._e()]},proxy:!0}],null,!0)},[a("v-card",{staticClass:"elevation-6"},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"overline mb-2"},[e._v(" "+e._s(t.startDisplay)+" - "+e._s(t.endDisplay)+" ")]),a("v-list-item-title",{staticClass:"text-lg-caption text-xl-subtitle-2 text-truncate"},[e._v(" "+e._s(t.name)+" ")]),e.isAdmin||e.isEmployee?a("v-list-item-subtitle",{staticClass:"caption"},[e._v(" "+e._s(t.customer.name)+" ")]):t.customer.name?a("v-list-item-subtitle",[e._v(" "+e._s(t.customer.name)+" ")]):a("v-list-item-subtitle",[e._v(" RESERVED ")])],1)],1),t.complete?e._e():a("v-card-actions",{staticClass:"text-center",attrs:{align:"space-between"}},[a("v-row",{attrs:{align:"center",justify:"center"}},[(e.isAdmin||e.isEmployee)&&t.canceled?a("v-btn",{class:e.$vuetify.breakpoint.xl?"ma-1 white--text":"mx-1 px-1",attrs:{"x-small":"",color:"blue-grey darken-4",dark:"",elevation:"3"},on:{click:function(a){return e.deleteAppointment(t)}}},[e._v(" Remove "),a("v-icon",{staticClass:"px-1",attrs:{dark:"","x-small":"",right:""}},[e._v("mdi-check-bold")])],1):e._e(),!e.isAdmin&&!e.isEmployee||t.canceled||t.requested||t.completed?e._e():a("v-btn",{class:e.$vuetify.breakpoint.xl?"ma-1 white--text":"mx-1 px-1",attrs:{"x-small":"",color:"blue-grey darken-4",dark:"",elevation:"3",icon:e.$vuetify.breakpoint.lgAndDown},on:{click:function(a){return e.completeAppointment(t)}}},[e._v(e._s(e.$vuetify.breakpoint.xl?"Complete":"")+" "),a("v-icon",{staticClass:"px-1",attrs:{dark:"","x-small":"",align:e.$vuetify.breakpoint.xl?"right":"center"}},[e._v("mdi-clock-check-outline")])],1),!t.canCancel||t.canceled&&"CANCELED"!==t.status?e._e():a("v-btn",{class:e.$vuetify.breakpoint.xl?"ma-1 white--text":"mx-1 px-1",attrs:{"x-small":"",color:"blue-grey darken-4",dark:"",red:"",elevation:"3",icon:e.$vuetify.breakpoint.lgAndDown},on:{click:function(a){return e.updateAppointmentStatus(t,"canceled")}}},[e._v(e._s(e.$vuetify.breakpoint.xl?"Cancel":"")+" "),a("v-icon",{staticClass:"px-1",attrs:{dark:"","x-small":"",align:e.$vuetify.breakpoint.xl?"right":"center"}},[e._v("mdi-cancel")])],1),t.toApprove?a("v-btn",{class:e.$vuetify.breakpoint.xl?"ma-1 white--text":"mx-1 px-1",attrs:{"x-small":"",color:"blue-grey darken-4",dark:"",green:"",elevation:"3",icon:e.$vuetify.breakpoint.lgAndDown},on:{click:function(a){return e.updateAppointmentStatus(t,"confirmed")}}},[e._v(e._s(e.$vuetify.breakpoint.xl?"Accept":"")+" "),a("v-icon",{staticClass:"px-1",attrs:{dark:"","x-small":"",align:e.$vuetify.breakpoint.xl?"right":"center"}},[e._v("mdi-checkbox-marked-circle")])],1):e._e()],1)],1)],1)],1)],1)})),0)],1):e._e(),e.events.length||e.loading?e._e():a("v-card-text",{staticClass:"text-center text-subtitle-2 pt-10"},[a("div",[e._v("No appointments scheduled today!")])])],1),a("v-snackbar",{attrs:{top:"",app:"",absolute:"",width:"600px",transition:"slide-y-transition",text:"",color:e.updateStatus.color,timeout:"3000"},model:{value:e.showUpdateStatus,callback:function(t){e.showUpdateStatus=t},expression:"showUpdateStatus"}},[e._v(e._s(e.updateStatus.message)+" ")]),a("keep-alive",[a("complete-appointment-form",{attrs:{activeUser:e.activeUser,dialog:e.dialog,date:e.timelineDate,appointment:e.appointmentToUpdate},on:{"update:dialog":function(t){e.dialog=t},closeDialog:e.closeDialog}})],1)],1)}),Xt=[],ea={name:"Timeline",components:{CompleteAppointmentForm:Ke},props:["services","activeUser","date","agenda","position","isWrapped"],created:function(){this.loading=!0,this.initialize(),this.timelineDate=this.date},computed:Object(c["a"])(Object(c["a"])({},Object(n["b"])(["user","clUser","primaryRole"])),{},{computedDateFormatted:function(){return this.date?Object(et["a"])(Object(it["a"])(this.date).getTime(),"MM/dd/yyyy"):""},getCurrentUser:function(){return this.$store.state.clUser},wrapped:function(){return this.isWrapped}}),data:function(){return{currentUser:null,active:!1,appointmentToUpdate:null,events:[],selectedEmployee:null,shortestServiceDuration:null,workDays:["Tues","Wed","Thu","Fri","Sat"],staffColors:["blue","red"],dialog:!1,timelineAgenda:"",refresh:!1,update:null,dayOfWeek:null,dayOfMonth:null,timelineDate:null,isAdmin:!1,isEmployee:!1,loading:!0,showDeleteConfirm:!1,updateStatus:{color:"",message:""},showUpdateStatus:!1}},methods:{closeDialog:function(e){e&&(this.events[this.events.indexOf(e)]=e),this.dialog=!1,this.$emit("refresh",this.timelineDate)},completeAppointment:function(e){this.appointmentToUpdate=e,this.dialog=!0},updateAppointmentStatus:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,i,s,o,c,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=a.events.indexOf(e),i="post",s="/appointments/".concat(e.id,"/update/status"),o=a.getCurrentUser.id,c=JSON.stringify({userId:o,appointmentStatus:t.toUpperCase()}),r.prev=5,r.next=8,l["a"].execute(i,s,c);case 8:u=r.sent,u&&u.id===e.id&&(a.events[n]=u,a.$emit("refresh",!0)),r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](5),console.log(r.t0);case 15:case"end":return r.stop()}}),r,null,[[5,12]])})))()},deleteAppointment:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.appointmentToUpdate=e,r="delete",n=t.events.indexOf(e),i="/appointments/".concat(e.id,"/delete"),a.prev=4,a.next=7,l["a"].execute(r,i);case 7:s=a.sent,s&&(t.updateStatus.color="green",t.updateStatus.message="".concat(e.employee.name,"'s appointment with ").concat(e.customer.name," has been deleted!"),t.showUpdateStatus=!0,t.events.splice(n,1)),a.next=16;break;case 11:a.prev=11,a.t0=a["catch"](4),t.updateStatus.color="red",t.updateStatus.message="".concat(e.employee.name,"'s appointment with ").concat(e.customer.name," was NOT removed due to an error!"),t.showUpdateStatus=!0;case 16:t.$emit("refresh",!0);case 17:case"end":return a.stop()}}),a,null,[[4,11]])})))()},getDayOfMonth:function(){var e;return this.timelineDate&&(e=Object(et["a"])(this.timelineDate,"d")),e},getDayOfWeek:function(){var e;return this.timelineDate&&(e=Object(et["a"])(this.timelineDate,"ccc")),e},getColorByStaffId:function(e){return this.staffColors[e]},getFormattedDate:function(e){if(e)return Object(et["a"])(Object(rt["a"])(e,2),"yyyy-MM-dd")},initialize:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,a=480,e.shortestServiceDuration=a,e.timelineDate=e.date,e.dayOfMonth=e.getDayOfMonth(e.date),e.dayOfWeek=e.getDayOfWeek(e.date),e.currentUser=e.getCurrentUser,e.mapAgenda(e.timelineAgenda);case 8:case"end":return t.stop()}}),t)})))()},mapAgenda:function(e){var t=this,a=[];e&&e.forEach((function(e){var r=(new Date).getTimezoneOffset(),n=6e4*r,i=new Date(e.start).getTime(),s=new Date(e.end).getTime();e.canCancel=t.canCancel(e),e.toApprove=e.requested&&(t.isAdmin||t.activeUser.id===e.employee.id),e.startDisplay=Object(et["a"])(i-n,"h:mmaa"),e.endDisplay=Object(et["a"])(s-n,"h:mmaa"),e.name=e.services.name,a.push(e)})),this.events=a,this.loading=!1},canCancel:function(e){var t=this.getCurrentUser,a=!1;if(this.isAdmin||this.isEmployee)a=!0;else{var r=[],n=t.linkedAccounts;if(n.length>0){var i,s=Object(X["a"])(n);try{for(s.s();!(i=s.n()).done;){var o=i.value;r.push(o.id)}}catch(l){s.e(l)}finally{s.f()}r.push(t.id)}var c=r.indexOf(e.customer.id);-1!==c&&(c===r.length-1?e.customer=t:e.customer=t.linkedAccounts[c],a=!0)}return a&&("CANCELED"===e.status||"COMPLETED"===e.status||e.canceled||e.completed)&&(a=!1),a},toggleActive:function(){this.active=!this.active},isActive:function(){this.$emit("update-selected",this.timelineDate)}},mounted:function(){this.loading=!0,(this.activeUser||this.clUser)&&(this.currentUser=this.getCurrentUser)},watch:{active:function(){this.isActive()},primaryRole:function(e){e&&(this.isAdmin="Admin"===e,this.isEmployee="Employee"===e)},agenda:function(e,t){e!==t&&(this.timelineAgenda=this.agenda,this.loading=!0,this.mapAgenda(this.timelineAgenda))},currentUser:function(e){e&&e.primaryRole&&(this.isAdmin="Admin"===e.primaryRole,this.isEmployee="Employee"===e.primaryRole)},date:function(e){this.timelineDate=e,this.initialize()},services:function(e){console.log(e)}}},ta=ea,aa=a("8414"),ra=a("1e06"),na=Object(p["a"])(ta,Zt,Xt,!1,null,"591d86c1",null),ia=na.exports;v()(na,{VAvatar:ae["a"],VBtn:b["a"],VCard:re["a"],VCardActions:ne["a"],VCardSubtitle:ne["b"],VCardText:ne["c"],VCardTitle:ne["d"],VIcon:k["a"],VListItem:D["a"],VListItemContent:Ve["a"],VListItemSubtitle:Ve["b"],VListItemTitle:Ve["c"],VRow:G["a"],VSnackbar:_e["a"],VTimeline:aa["a"],VTimelineItem:ra["a"]});var sa=a("49ef"),oa={name:"Calendar",components:{Timeline:ia},props:["refresh","range","employee","services","activeUser","isWrapped"],computed:Object(c["a"])(Object(c["a"])({},Object(n["b"])(["user","clUser","primaryRole"])),{},{wrapped:function(){return this.isWrapped}}),created:function(){this.dateRange=this.range,this.startDate=this.range.startDate},data:function(){return{displayedEvents:[],startDate:null,endDate:null,events:[],displayDateRange:[],selectedDate:!1,userRole:this.$store.state.primaryRole?this.$store.state.primaryRole:null,displayDateRangeReady:!1,activeUserReady:!1,userRoleReady:!1}},methods:{getAppointments:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,s,o,c,u,d,p,m,v,h,f,b,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.userRole,!a||!e.displayDateRangeReady){t.next=13;break}return r=[],n="get",a=a.toLowerCase(),i="/appointments/".concat(a,"/all"),t.next=8,l["a"].execute(n,i);case 8:if(s=t.sent,s){o=Object(X["a"])(e.displayDateRange);try{for(o.s();!(c=o.n()).done;){u=c.value,d=new Date(u),p=[],m=Object(X["a"])(s);try{for(m.s();!(v=m.n()).done;)h=v.value,h&&(f=void 0,f=h.services.id?h.services:h.services[0],b=new Date(h.start),Object(Qe["a"])(d,b)&&("Admin"===a&&"Employee"===a||(g={name:f.name,fixedPrice:f.fixedPrice,description:f.description},h.services=g),h.services=f,h.employeePhoto=h.employee.profilePhotoUrl?h.employee.profilePhotoUrl:null,p.push(h)))}catch(y){m.e(y)}finally{m.f()}r.push(p)}}catch(y){o.e(y)}finally{o.f()}}e.events=r,e.displayedEvents=r,e.displayDateRangeReady=!1;case 13:e.$forceUpdate();case 14:case"end":return t.stop()}}),t)})))()},filterByEmployeeId:function(e){var t,a=[],r=this.events,n=Object(X["a"])(r);try{for(n.s();!(t=n.n()).done;){var i=t.value,s=i.filter((function(t){return t.employee.id===e}));a.push(s)}}catch(o){n.e(o)}finally{n.f()}this.displayedEvents=a},setDisplayRange:function(e){var t=[];this.displayDateRange=[];for(var a=0;a<7;a++){var r=Object(rt["a"])(e,a);!Object(sa["a"])(r)||Object(tt["a"])(r)||Object(at["a"])(r)||t.push(r)}t.length&&(this.displayDateRange=t)},refreshView:function(){this.displayDateRangeReady=!0},updateSelectedDate:function(e){e&&e!==this.selectedDate&&(this.selectedDate=e,this.$emit("update-selected",this.selectedDate))}},mounted:function(){},watch:{activeUser:function(e){e&&e.primaryRole&&(this.userRole=e.primaryRole)},employee:function(e){e?this.filterByEmployeeId(e.id):this.displayedEvents=this.events},displayDateRange:function(e){e&&e.length&&(this.displayDateRangeReady=!0)},primaryRole:function(e){e&&(this.userRole=e)},startDate:function(e,t){e&&e!==t&&this.setDisplayRange(e)},range:function(e){e&&e.startDate&&e.endDate&&(this.startDate=e.startDate,this.endDate=e.endDate)},refresh:function(e){e&&(this.displayDateRangeReady=!0,this.getAppointments())},userRole:function(e){e&&(this.userRoleReady=!0)},displayDateRangeReady:function(e){e&&e&&this.userRoleReady&&this.getAppointments()},userRoleReady:function(e){e&&this.displayDateRangeReady&&this.getAppointments()}}},ca=oa,la=(a("06f5"),Object(p["a"])(ca,Kt,Qt,!1,null,"d58ecf7c",null)),ua=la.exports;v()(la,{VCol:g["a"],VContainer:z["a"],VRow:G["a"]});var da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.dialog,persistent:"","max-width":"600px"},on:{input:function(t){return e.$emit("update:dialog",!1)}}},[a("v-card",[a("v-card-title",[e.appointment&&e.appointment.id?a("span",{staticClass:"headline"},[e._v("Edit Appointment")]):a("span",{staticClass:"headline"},[e._v("Schedule Appointment")])]),a("v-card-text",[e.saveFailed?a("v-alert",{attrs:{type:"error",dismissible:"",elevation:"2"}},[e._v(e._s(e.updateStatus.message))]):e._e(),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[e.isAdmin||e.isEmployee?a("v-autocomplete",{attrs:{label:"Customer Search",items:e.customers,loading:e.isCustomersLoading,"search-input":e.customerSearch,filter:e.customerFilter,"item-text":"name","hide-no-data":"","hide-selected":"",placeholder:"Start typing to search","prepend-inner-icon":"mdi-magnify","return-object":"",clearable:""},on:{"update:searchInput":function(t){e.customerSearch=t},"update:search-input":function(t){e.customerSearch=t}},model:{value:e.customerSelected,callback:function(t){e.customerSelected=t},expression:"customerSelected"}}):e._e()],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{label:"Select Employee",items:e.employees,"item-text":"name","hide-no-data":"","hide-selected":"",placeholder:"Start typing to search","prepend-inner-icon":"mdi-account","return-object":"",clearable:""},model:{value:e.employeeSelected,callback:function(t){e.employeeSelected=t},expression:"employeeSelected"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{label:"Select Service",items:e.services,"item-text":"name","hide-no-data":"","hide-selected":"",placeholder:"Start typing to search","prepend-inner-icon":"mdi-content-cut","return-object":"",clearable:""},model:{value:e.serviceSelected,callback:function(t){e.serviceSelected=t},expression:"serviceSelected"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{value:e.computedDateFormatted,label:"Select Date","prepend-inner-icon":"mdi-calendar",readonly:""}},"v-text-field",n,!1),r))]}}]),model:{value:e.showDatePicker,callback:function(t){e.showDatePicker=t},expression:"showDatePicker"}},[a("v-date-picker",{attrs:{"no-title":"","disabled-dates":e.disabledDates,"min-date":new Date},on:{input:function(t){e.showDatePicker=!1}},model:{value:e.datePickerDate,callback:function(t){e.datePickerDate=t},expression:"datePickerDate"}})],1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-menu",{ref:"timeMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.timeSelected,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.timeSelected=t},"update:return-value":function(t){e.timeSelected=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Set Time","prepend-inner-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.timeSelected,callback:function(t){e.timeSelected=t},expression:"timeSelected"}},"v-text-field",n,!1),r))]}}]),model:{value:e.showTimePicker,callback:function(t){e.showTimePicker=t},expression:"showTimePicker"}},[e.showTimePicker?a("v-time-picker",{attrs:{"full-width":"","allowed-minutes":e.allowedStep,min:"09:00",max:"17:45",format:"ampm"},on:{"click:minute":function(t){return e.$refs.timeMenu.save(e.timeSelected)}},model:{value:e.timeSelected,callback:function(t){e.timeSelected=t},expression:"timeSelected"}}):e._e()],1)],1)],1)],1),a("small",[e._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeFormDialog}},[e._v(" Close ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveAppointment}},[e._v(" Save ")])],1),a("v-snackbar",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[e._v(" Saving data... ")])],1),a("v-snackbar",{attrs:{top:"",app:"",absolute:"",width:"600px",transition:"slide-y-transition",text:"",color:e.updateStatus.color,timeout:"5000"},model:{value:e.showUpdateStatus,callback:function(t){e.showUpdateStatus=t},expression:"showUpdateStatus"}},[e._v(e._s(e.updateStatus.message)+" ")])],1)},pa=[],ma=(a("d3b7"),a("25f0"),{props:{activeUser:{type:Object},appointment:{type:Object},dialog:{type:Boolean},services:{type:Array},selectedEmployee:{type:Object},date:{}},computed:Object(c["a"])(Object(c["a"])({},Object(n["b"])(["user","clUser","primaryRole"])),{},{computedDateFormatted:function(){return this.datePickerDate?Object(et["a"])(Object(rt["a"])(Object(it["a"])(new Date(this.datePickerDate).toISOString()),1),"MM/dd/yyyy"):Object(et["a"])(Object(it["a"])((new Date).toISOString()),"MM/dd/yyyy")}}),created:function(){},name:"AppointmentEditForm",data:function(){return{appointmentDate:this.date,currentUser:this.activeUser,customer:null,customers:[],customerSearch:null,customerOptions:[],customerSelector:[],customerSelected:{},datePickerDate:null,employeeSelected:this.selectedEmployee?this.selectedEmployee:null,employees:[],employeeSelector:[],isCustomersLoading:!1,linkedAccounts:[],loading:!1,serviceSelected:{},serviceList:[],serviceSelector:[],showDatePicker:!1,showTimePicker:!1,timeSelected:null,today:new Date,disabledDates:{weekdays:[1,2]},updateStatus:{color:"",message:""},showUpdateStatus:!1,saveFailed:!1}},methods:{allowedStep:function(e){return e%5===0},closeFormDialog:function(){this.$emit("closeDialog")},customerFilter:function(e,t){var a=e.name.toLowerCase(),r=e.phoneNumber.toString(),n=e.primaryRole.toLowerCase(),i=e.emailAddress.toLowerCase(),s=t.toLowerCase();return a.indexOf(s)>-1||r.indexOf(s)>-1||n.indexOf(s)>-1||i.indexOf(s)>-1},isAdmin:function(){return!!this.activeUser&&"Admin"===this.activeUser.primaryRole},isEmployee:function(){return!!this.activeUser&&"Employee"===this.activeUser.primaryRole},getCustomers:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isCustomersLoading=!0,!e.activeUser){t.next=17;break}if(a=e.activeUser.id,!a){t.next=17;break}return r="get",n="/customers/info/detailed?id=".concat(a),t.prev=6,t.next=9,l["a"].execute(r,n);case 9:i=t.sent,i&&(e.customers=i),e.isCustomersLoading=!1,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](6),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[6,14]])})))()},getAppointmentsForDate:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.primaryRole,r="GET",n="/appointments",i={userRole:a,date:e.appointmentDate},t.prev=4,t.next=7,l["a"].execute(r,n,i);case 7:s=t.sent,s&&console.log(s),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()},saveAppointment:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,s,o,c,u,d,p,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.employeeSelected,r=e.serviceSelected,n=e.customerSelected,i=e.computedDateFormatted,s=e.timeSelected,o=new Date(i+" "+s),c=o.getTime(),!(a&&r&&n&&c)){t.next=21;break}return u={employee:a,services:[r],customer:n,start:c},d="post",p="/appointments/create",t.prev=11,t.next=14,l["a"].execute(d,p,u);case 14:m=t.sent,"Requested appointment slot is not valid."!==m?(e.updateStatus.color="success",e.updateStatus.message="Appointment Saved Successfully",e.$emit("refresh"),e.$emit("closeDialog")):(e.updateStatus.color="error",e.updateStatus.message="This time slot is not available because it overlaps with another appointment. Please change the time/date for the appointment.",e.saveFailed=!0),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](11),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[11,18]])})))()},setCustomerOptions:function(){var e=[];if(e.push(this.activeUser),this.activeUser.linkedAccounts.length>0){var t,a=Object(X["a"])(this.activeUser.linkedAccounts);try{for(a.s();!(t=a.n()).done;){var r=t.value;e.push(r)}}catch(n){a.e(n)}finally{a.f()}}this.customers=e},setServiceSelector:function(){var e,t=Object(X["a"])(this.services);try{for(t.s();!(e=t.n()).done;){var a=e.value;this.serviceSelector.push(a.name)}}catch(r){t.e(r)}finally{t.f()}},setSelectedService:function(e){this.selectedService=e},setupAppointment:function(){this.employeeSelected=this.appointment.employee,this.serviceSelected=this.appointment.service,this.customer=this.appointment.customerSelected},initialize:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.currentUser=e.activeUser,e.userRole=e.primaryRole,e.serviceList=e.services,e.activeUser&&e.activeUser.id&&(e.linkedAccounts=e.activeUser.linkedAccounts),t.prev=4,t.next=7,l["a"].execute("get","/employees/info/basic");case 7:if(a=t.sent,a){e.employees=a,r=Object(X["a"])(a);try{for(r.s();!(n=r.n()).done;)i=n.value,e.employeeSelector.push(i.name)}catch(s){r.e(s)}finally{r.f()}}t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()}},mounted:function(){this.appointment?this.setupAppointment():this.initialize()},watch:{date:function(e){e&&(this.datePickerDate=Object(et["a"])(Object(it["a"])(new Date(e).toISOString()),"yyyy-MM-dd"))},activeUser:function(e){e&&(this.initialize(),this.userId=e.id,"Admin"!==e.primaryRole&&"Employee"!==e.primaryRole||this.getCustomers(),"Customer"===e.primaryRole&&this.setCustomerOptions(e))},appointmentDate:function(e){e&&(this.datePickerDate=Object(et["a"])(Object(it["a"])(new Date(e).toISOString()),"yyyy-MM-dd"),this.$emit("update-selected",this.timelineDate))},serviceSelected:function(){this.refresh=!1},services:function(e){e.length&&this.setServiceSelector()},service:function(e){var t={};e?t=e:(t.name="",t.description="",t.duration="",t.fixedPrice=null,t.minPrice=null,t.maxPrice=null),this.setSelectedService(t)},refresh:function(e){!0===e&&(this.$emit("refresh",e),this.$emit("closeDialog"),this.refresh=!1)}}}),va=ma,ha=a("c6a6"),fa=a("2e4b"),ba=a("c964"),ga=Object(p["a"])(va,da,pa,!1,null,"78f60eca",null),ya=ga.exports;v()(ga,{VAlert:lt["a"],VAutocomplete:ha["a"],VBtn:b["a"],VCard:re["a"],VCardActions:ne["a"],VCardText:ne["c"],VCardTitle:ne["d"],VCol:g["a"],VContainer:z["a"],VDatePicker:fa["a"],VDialog:se["a"],VMenu:S["a"],VRow:G["a"],VSnackbar:_e["a"],VSpacer:_["a"],VTextField:oe["a"],VTimePicker:ba["a"]});var xa=a("1d9b"),ka=a("5dea"),wa=a("4602"),Da={name:"Appointments",components:{Calendar:ua,AppointmentEditForm:ya},props:{wrapper:{type:Boolean}},computed:Object(c["a"])(Object(c["a"])({},Object(n["b"])(["user","clUser","primaryRole"])),{},{computedDateFormatted:function(){return this.datePickerDate?Object(et["a"])(Object(it["a"])(this.datePickerDate).getTime(),"MM/dd/yyyy"):""},hasElevated:function(){return"Admin"===this.$store.state.primaryRole||"Employee"===this.$store.state.primaryRole},isWrapped:function(){return!!this.wrapper}}),created:function(){this.loading=!0},data:function(){return{activeUser:this.$store.state.clUser?this.$store.state.clUser:{},isAdmin:null,isEmployee:null,appointmentToAdd:null,appointmentToEdit:{},currentDate:null,startDate:null,displayMonth:"",endDate:null,employees:[],employeeFilter:null,employeeSelector:[],services:[],selectedEmployee:null,selectedDate:!1,showEditForm:!1,showDatePicker:!1,datePickerDate:null,viewRange:{},refresh:!1,loading:!0}},mounted:function(){this.activeUser=this.$store.state.clUser,this.isAdmin="Admin"===this.activeUser.primaryRole,this.isEmployee="Employee"===this.activeUser.primaryRole,this.initialize()},methods:{addAppointment:function(e){this.activeUser=this.$store.state.clUser,this.appointmentToAdd=e||{date:this.selectedDate},this.showEditForm=!0},closeDialog:function(){this.showEditForm=!1},getServices:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="GET",r="/services",t.prev=2,t.next=5,l["a"].execute(a,r);case 5:n=t.sent,n&&(console.log(n),e.services=n),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},onClearDateClicked:function(){var e=(new Date).toISOString();this.datePickerDate=e},nextWeek:function(){this.startDate=Object(rt["a"])(this.startDate,7),this.endDate=Object(rt["a"])(this.endDate,7),this.viewRange={startDate:this.startDate,endDate:this.endDate}},previousWeek:function(){Object(xa["a"])(Object(ka["a"])(this.startDate,1))||(this.startDate=Object(ka["a"])(this.startDate,7),this.endDate=Object(ka["a"])(this.endDate,7),this.viewRange={startDate:this.startDate,endDate:this.endDate})},refreshCalendar:function(){this.refresh=!0},updateSelectedDate:function(e){e&&e!==this.selectedDate&&(this.selectedDate=e)},initialize:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.currentDate=e.currentDate?e.currentDate:Object(wa["a"])(Date.now()/1e3),e.startDate=e.currentDate,e.datePickerSelected=e.currentDate,e.displayMonth=Object(et["a"])(e.startDate,"MMMM"),e.endDate=Object(rt["a"])(e.startDate,7),e.viewRange={startDate:e.startDate,endDate:e.endDate},e.activeUser=e.$store.state.clUser,e.isAdmin="Admin"===e.activeUser.primaryRole,e.isEmployee="Employee"===e.activeUser.primaryRole,t.next=12,e.getServices();case 12:return t.prev=12,t.next=15,l["a"].execute("get","/employees/info/basic");case 15:if(a=t.sent,a){e.employees=a,r=Object(X["a"])(a);try{for(r.s();!(n=r.n()).done;)i=n.value,e.employeeSelector.push(i.name)}catch(s){r.e(s)}finally{r.f()}}t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](12),console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[12,19]])})))()}},watch:{$store:function(e){e.state.clUser&&this.initialize()},isWrapped:function(e){console.log(e)},activeUser:function(e,t){"undefined"!==e&&e.name&&e!==t&&(this.isAdmin="Admin"===e.primaryRole,this.isEmployee="Employee"===e.primaryRole,this.activeUser=e),this.loading=!1},datePickerDate:function(e){var t=Object(it["a"])(e),a=Object(ka["a"])(new Date,1);Object(Ze["a"])(t,a)&&(this.startDate=t,this.endDate=Object(rt["a"])(this.startDate,7),this.viewRange={startDate:this.startDate,endDate:this.endDate})},selectedEmployee:function(e){this.employeeFilter=void 0!=e?this.employees[this.employeeSelector.indexOf(e)]:null},selectedDate:function(e){e!==this.selectedDate&&this.updateSelectedDate(new Date(e).getTime())},startDate:function(e){this.displayMonth=Object(et["a"])(e,"MMMM, yyyy")},viewRange:function(e,t){e&&e!==t&&console.log("new view range set from "+e.startDate+" to "+e.endDate)}}},Aa=Da,Sa=(a("81d8"),a("269a")),_a=a.n(Sa),Ua=a("c3f0"),Ca=Object(p["a"])(Aa,Jt,Yt,!1,null,"3be89d3a",null),Ra=Ca.exports;v()(Ca,{VBtn:b["a"],VCol:g["a"],VContainer:z["a"],VDatePicker:fa["a"],VIcon:k["a"],VMenu:S["a"],VRow:G["a"],VSelect:Se["a"],VSpacer:_["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:U["b"]}),_a()(Ca,{Touch:Ua["a"]});var Pa={name:"CustomerPanel",components:{Appointments:Ra},props:["activePanel"],computed:{currentUser:function(){return this.$store.state.clUser}},created:function(){this.setActiveDisplay(this.activePanel)},data:function(){return{manageUsers:!1,addService:!1,viewService:!1,activeDisplay:"appointments"}},methods:{setActiveDisplay:function(e){this.activeDisplay=e||"users"}},mounted:function(){this.activeDisplay="appointments"},watch:{activeDisplay:function(e,t){e!==t&&this.$emit("updateActiveUserSubPanel",e)},activePanel:function(e){e&&this.setActiveDisplay(e)}}},Oa=Pa,$a=(a("7628"),Object(p["a"])(Oa,Gt,Ht,!1,null,"6e78a6da",null)),ja=$a.exports;v()($a,{VBottomNavigation:wt["a"],VBtn:b["a"],VContainer:z["a"],VIcon:k["a"]});var Va={components:{EditUserForm:Lt,AdminPanel:At,RegisterLinked:jt,EmployeePanel:Wt,CustomerPanel:ja},computed:Object(c["a"])(Object(c["a"])({},Object(n["b"])(["user","clUser","primaryRole"])),{},{currentUser:function(){return this.clUser},userIsAdmin:function(){return!!this.$store.state&&("Admin"===this.$store.state.primaryRole||"Employee"===this.$store.state.primaryRole)}}),created:function(){},data:function(){return{activeUserSubPanel:null,userId:this.$route.params.id,profile:{},linkedAccounts:[],selectedProfile:{},dialog:!1,userPanel:!1,previousPanel:null,editFormActive:!1,showDeleteDialog:!1}},methods:{closeDialog:function(e){e?(this.linkedAccounts.push(e),this.selectedProfile=e,this.userPanel=this.previousPanel):this.userPanel=this.previousPanel,this.dialog=!1},closeEditForm:function(e){e||(this.selectedProfile={}),this.editFormActive=!1},editProfile:function(e){e.firstName=e.name.split(" ")[0],e.lastName=e.name.split(" ")[1],this.selectedProfile=e,this.editFormActive=!0},getParentAccount:function(e){var t=this,a="/user/".concat(e);try{l["a"].execute("get",a).then((function(e){e&&e.linkedAccounts&&(t.linkedAccounts=e.linkedAccounts)}))["catch"]((function(e){console.log(e)}))}catch(r){console.log(r)}},getRandomColor:function(){var e=["red","purple","indigo","blue","cyan","green","amber","blue-grey"],t=["lighten","darken"],a=["1","2","3","4"],r=e[Math.floor(Math.random()*e.length)],n=t[Math.floor(Math.random()*t.length)],i=a[Math.floor(Math.random()*a.length)],s=r+" "+n+"-"+i;return s},initialize:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l["a"].execute("get","/user/".concat(e.$route.params.id,"/details"));case 3:a=t.sent,a&&(e.profile=a,e.userPanel=a.primaryRole),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$log.debug(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},isSelectedLinkedAcct:function(e){return this.selectedProfile.name===e},selectProfile:function(e){e===this.selectedProfile?this.selectedProfile=this.profile:this.selectedProfile=e},addUser:function(){this.userPanel="CreateLinked"},updateActiveUserSubPanel:function(e){e!==this.activeUserSubPanel&&(this.activeUserSubPanel=e)},deleteUser:function(e){this.selectedProfile=e,this.showDeleteDialog=!0}},mounted:function(){this.initialize()},watch:{$route:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e===t){r.next=11;break}return r.prev=1,r.next=4,l["a"].execute("get","/user/".concat(a.$route.params.id,"/details"));case 4:n=r.sent,n&&(a.profile=n,a.$forceUpdate()),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),a.$log.debug(r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},profile:function(e,t){if(e!==t){if(-1!==e.parentId&&this.getParentAccount(e.parentId),this.linkedAccounts=e.linkedAccounts,!e.profilePhotoUrl){var a=Math.random()*Date.now();e.profilePhotoUrl="https://i.pravatar.cc/150?u="+a}e.phoneNumber||(e.phoneNumber="212-555-1212"),e.emailAddress||(e.emailAddress="placeholder@example.com")}},currentUser:function(e){e&&(this.userPanel=this.$store.state.primaryRole)},selectedProfile:function(e,t){e===t&&(this.selectedProfile={})},userPanel:function(e,t){this.previousPanel=t},showDeleteDialog:function(e){console.log(e)}}},Ea=Va,Ta=(a("3959"),a("56b0")),Ia=a("1800"),Na=a("34c3"),La=a("0789"),Ma=Object(p["a"])(Ea,he,fe,!1,null,"645f9955",null),Fa=Ma.exports;v()(Ma,{VAvatar:ae["a"],VBtn:b["a"],VCard:re["a"],VCol:g["a"],VContainer:z["a"],VDivider:y["a"],VIcon:k["a"],VList:w["a"],VListGroup:Ta["a"],VListItem:D["a"],VListItemAction:Ia["a"],VListItemContent:Ve["a"],VListItemIcon:Na["a"],VListItemSubtitle:Ve["b"],VListItemTitle:Ve["c"],VRow:G["a"],VScrollYTransition:La["d"]});var Ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("form",[a("div",{staticClass:"text-center"},[e.profilePhotoUrl?a("v-avatar",{staticClass:"my-5",attrs:{size:"128"}},[a("img",{attrs:{src:""+e.profilePhotoUrl,alt:e.name+"'s profile photo",size:"128"}})]):a("v-avatar",{attrs:{size:"128",color:"white"}},[a("span",{staticClass:"white--text headline"})])],1),a("v-text-field",{attrs:{"error-messages":e.nameErrors,counter:40,label:"Name",required:""},on:{input:function(t){return e.$v.name.$touch()},blur:function(t){return e.$v.name.$touch()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"E-mail"},on:{input:function(t){return e.$v.emailAddress.$touch()},blur:function(t){return e.$v.emailAddress.$touch()}},model:{value:e.emailAddress,callback:function(t){e.emailAddress=t},expression:"emailAddress"}}),a("v-text-field",{attrs:{"error-messages":e.phoneErrors,label:"Phone Number",hint:"Enter numbers only",counter:18,required:""},on:{input:function(t){return e.$v.phoneNumber.$touch()},blur:function(t){return e.$v.phoneNumber.$touch()}},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}}),a("v-checkbox",{attrs:{"error-messages":e.checkboxErrors,label:"Do you agree to create an account with Cloverleaf Barbershop & Deja Du Salon?",required:""},on:{change:function(t){return e.$v.checkbox.$touch()},blur:function(t){return e.$v.checkbox.$touch()}},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}}),a("v-btn",{staticClass:"mr-4",on:{click:e.submit}},[e._v(" submit ")]),a("v-btn",{staticClass:"mr-4",on:{click:e.clear}},[e._v(" clear ")]),a("v-btn",{on:{click:e.cancel}},[e._v(" cancel ")])],1)])},qa=[],za=a("60dd"),Wa=za["a"],Ga=Object(p["a"])(Wa,Ba,qa,!1,null,null,null),Ha=Ga.exports;v()(Ga,{VAvatar:ae["a"],VBtn:b["a"],VCheckbox:Ot["a"],VContainer:z["a"],VTextField:oe["a"]});var Ja=a("8c47"),Ya=a("7b13"),Ka=(a("ff79"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("service-list")}),Qa=[],Za={name:"Services",components:{ServiceList:Te}},Xa=Za,er=Object(p["a"])(Xa,Ka,Qa,!1,null,"236231bc",null),tr=er.exports,ar=new Ja["OktaAuth"]({url:"https://dev-3583503.okta.com",issuer:"https://dev-3583503.okta.com/oauth2/default",clientId:"0oar2yxosCQDhkZkz5d5",redirectUri:window.location.origin+"/login/callback",scopes:["openid","profile","email","groups"],pkce:!0,tokenManager:{storage:"sessionStorage",autoRenew:!1,autoRemove:!0}}),rr="/login/callback";r["a"].use(P["a"]),r["a"].use(Ya["b"],{oktaAuth:ar,onAuthRequired:function(){ir.push("/login").then()}});var nr=[{path:"/",name:"Home",component:J},{path:"/appointments",name:"Appointment",component:Ra,meta:{requiresAuth:!0}},{path:"/users",name:"Users",component:ve,meta:{requiresAuth:!0}},{path:"/profile/:id",name:"User Profile",component:Fa,props:!0,meta:{requiresAuth:!0}},{path:"/registration",name:"User Registration",component:Ha,meta:{requiresAuth:!0}},{path:"/users/search",name:"User Search",component:ve,meta:{requiresAuth:!0}},{path:"/login",component:L},{path:"/services",component:tr,meta:{requiresAuth:!1}},{path:rr,component:Ya["a"]}],ir=new P["a"]({mode:"history",routes:nr}),sr=ir,or=a("f309");r["a"].use(or["a"]);var cr={icons:{iconfont:"mdi"}},lr=new or["a"](cr),ur=a("85ff"),dr=a.n(ur);r["a"].config.productionTip=!1,r["a"].use(n["a"]);var pr=new n["a"].Store({state:{user:{},clUser:{},primaryRole:""},mutations:{updateUser:function(e,t){e.user=t},updateCLUser:function(e,t){e.clUser=t},updatePrimaryRole:function(e,t){e.primaryRole=t},resetUser:function(e){e.user={},e.primaryRole="",e.clUser={}}}}),mr={isEnabled:!0,logLevel:"debug",stringifyArguments:!1,showLogLevel:!0,showMethodName:!1,separator:"|",showConsoleColors:!0};r["a"].use(dr.a,mr),new r["a"]({router:sr,store:pr,vuetify:lr,render:function(e){return e(R)}}).$mount("#app")},"60dd":function(e,t,a){"use strict";(function(e){a("caad"),a("0d03"),a("b0c0"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("5319"),a("1276"),a("4c53"),a("96cf");var r=a("1da1"),n=a("1dce"),i=a("b5ae"),s=a("d722"),o=a("bc3a"),c=a.n(o);t["a"]={mixins:[n["validationMixin"]],validations:{name:{required:i["required"],maxLength:Object(i["maxLength"])(40)},emailAddress:{email:i["email"]},phoneNumber:{required:i["required"],maxLength:Object(i["maxLength"])(18)},checkbox:{checked:function(e){return e}}},created:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},mounted:function(){this.updateCurrentUser()},computed:{checkboxErrors:function(){var e=[];return this.$v.checkbox.$dirty?(!this.$v.checkbox.checked&&e.push("You must agree to continue!"),e):e},emailErrors:function(){var e=[];return this.$v.emailAddress.$dirty?(!this.$v.emailAddress.email&&e.push("E-mail address must be valid"),e):e},nameErrors:function(){var e=[];return this.$v.name.$dirty?(!this.$v.name.maxLength&&e.push("Name must be less than 40 characters"),!this.$v.name.required&&e.push("Name is required"),e):e},phoneErrors:function(){var e=[];return this.$v.phoneNumber.$dirty?(!this.$v.phoneNumber.maxLength&&e.push("Phone number must be less than 18 characters"),!this.$v.phoneNumber.required&&e.push("Phone number is required!"),e):e}},name:"Registration",data:function(){return{currentUser:null,loading:!0,emailAddress:null,idToken:null,name:null,phoneNumber:"",profilePhotoUrl:null,primaryRole:null,checkbox:!1,userGroups:null,submitStatus:"PENDING",subscriberId:""}},methods:{updateCurrentUser:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$auth.getUser();case 2:return e.currentUser=t.sent,t.next=5,e.$auth.getUser().groups;case 5:return e.userGroups=t.sent,t.next=8,e.$auth.getIdToken();case 8:if(t.t0=t.sent,t.t0){t.next=11;break}t.t0=e.$auth.getAccessToken();case 11:e.idToken=t.t0;case 12:case"end":return t.stop()}}),t)})))()},getFakeProfile:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="https://randomuser.me/api/?inc=name,%20email,%20phone,%20picture&nat=us&noinfo",t.prev=1,t.next=4,c.a.get(a);case 4:r=t.sent,r&&(console.log(r),n=r.data.results[0],e.name=n.name.first+" "+n.name.last,e.phoneNumber=n.phone.replace(/\D+/g,""),e.profilePhotoUrl=n.picture.large,e.emailAddress=e.currentUser.email),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},submit:function(){this.$v.$touch(),this.$v.$invalid?this.submitStatus="ERROR":this.createUser()},createUser:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={name:e.name,emailAddress:e.currentUser.email,phoneNumber:e.phoneNumber.replace(/\D+/g,""),profilePhotoUrl:e.profilePhotoUrl,primaryRole:e.primaryRole,subscriberId:e.currentUser.sub},t.prev=1,t.next=4,s["a"].execute("post","/user/create",r).then((function(t){console.log(t),t&&(a=t.id,e.currentUser=t,e.$store.commit("updateUser",t),e.$store.commit("updatePrimaryRole",t.primaryRole),e.$router.push({path:"/profile/".concat(a)}))}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},clear:function(){this.name="",this.emailAddress="",this.phoneNumber="",this.checkBox=!1},decodeToken:function(t){var a=t.split(".")[1],r=a.replace("-","+").replace("_","/"),n=JSON.parse(e.from(r,"base64").toString("binary"));return n},cancel:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.clear(),t.next=3,e.$auth.logout();case 3:return e.$store.commit("resetUser"),t.next=6,e.$router.push({path:"/"});case 6:case"end":return t.stop()}}),t)})))()},verifyUserRoles:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.primaryRole=t.getPrimaryGroup(e);case 1:case"end":return a.stop()}}),a)})))()},getPrimaryGroup:function(e){return e.includes("Admin")?"Admin":e.includes("Employee")?"Employee":e.includes("Customer")?"Customer":"Guest"}},watch:{currentUser:function(e,t){console.log(e),e&&e!==t&&(e.groups&&this.verifyUserRoles(e.groups),e.name||this.getFakeProfile())},idToken:function(e){e&&(this.subscriberId=this.decodeToken(e).sub)}}}}).call(this,a("b639").Buffer)},"65f3":function(e,t,a){"use strict";a("68ca")},"67b2":function(e,t,a){e.exports=a.p+"img/clover_logo.7731563d.png"},"68ca":function(e,t,a){},7628:function(e,t,a){"use strict";a("5167")},"7c0b":function(e,t,a){},"7e6d":function(e,t,a){"use strict";a("2914")},"81d8":function(e,t,a){"use strict";a("5337")},d722:function(e,t,a){"use strict";var r=a("5530"),n=(a("96cf"),a("1da1")),i=a("bc3a"),s=a.n(i),o=a("2b0e"),c=s.a.create({baseURL:"https://evening-lake-73457.herokuapp.com/"});t["a"]={execute:function(e,t,a,i){return Object(n["a"])(regeneratorRuntime.mark((function n(){var s,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,o["a"].prototype.$auth.getAccessToken();case 2:return s=n.sent,n.prev=3,n.next=6,c(Object(r["a"])({method:e,url:t,data:a,headers:{Authorization:"Bearer ".concat(s),"content-type":"application/json"},validateStatus:function(e){return e<501}},i));case 6:return l=n.sent,n.abrupt("return",l.data);case 10:if(n.prev=10,n.t0=n["catch"](3),!n.t0.response){n.next=16;break}return n.abrupt("return",n.t0.response);case 16:if(!n.t0.request){n.next=20;break}return n.abrupt("return",n.t0.request);case 20:return n.abrupt("return",n.t0);case 21:case"end":return n.stop()}}),n,null,[[3,10]])})))()}}},e9c4:function(e,t,a){"use strict";a("07d3")},fd48:function(e,t,a){"use strict";a("1931")}});
//# sourceMappingURL=app.3807d869.js.map